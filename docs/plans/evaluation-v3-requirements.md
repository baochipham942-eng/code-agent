# Code Agent è¯„æµ‹ç³»ç»Ÿ v3 â€” éœ€æ±‚æ–‡æ¡£

> åˆ›å»ºæ—¥æœŸï¼š2026-02-08
> çŠ¶æ€ï¼šDraft
> ä½œè€…ï¼šLin Chen
> å‚è€ƒæ–‡æ¡£ï¼š
> - [Anthropic Evals æŒ‡å—](../research/evals-for-ai-agents.md)
> - [SpreadsheetBench åˆ†æ](../research/spreadsheet-bench-analysis.md)
> - [LLM è¯„ä¼°æ¡†æ¶å…¨æ™¯å¯¹æ¯”](../research/llm-eval-frameworks-comparison.md)
> - [è¯„æµ‹ Dashboard UI è°ƒç ”](../research/eval-dashboard-ui-survey.md)
> - [ç°æœ‰è¯„æµ‹ç³»ç»Ÿæ¶æ„](../guides/evaluation-system.md)

---

## ä¸€ã€èƒŒæ™¯ä¸åŠ¨æœº

### 1.1 ç°æœ‰ç³»ç»Ÿçš„å±€é™æ€§

å½“å‰è¯„æµ‹ç³»ç»Ÿï¼ˆv2ï¼‰æ˜¯ä¸€ä¸ª**ä¼šè¯åè¯„ä¼°å™¨**ï¼Œåœ¨ç”¨æˆ·å®Œæˆå¯¹è¯åå¯¹å•æ¬¡ä¼šè¯è¿›è¡Œå¤šç»´åº¦æ‰“åˆ†ã€‚å®ƒå­˜åœ¨ä»¥ä¸‹æ ¸å¿ƒå±€é™ï¼š

| é—®é¢˜ | å½±å“ |
|------|------|
| **ä»…æ”¯æŒäº‹åè¯„ä¼°** | æ— æ³•ä½œä¸º CI/CD ç®¡çº¿ï¼Œä¸èƒ½åœ¨ä»£ç æäº¤æ—¶è‡ªåŠ¨æ£€æµ‹å›å½’ |
| **ç¼ºå°‘æ ‡å‡†åŒ–ä»»åŠ¡é›†** | æ²¡æœ‰é¢„å®šä¹‰çš„ Task + å‚è€ƒè§£ï¼Œæ— æ³•æ¨ªå‘å¯¹æ¯”ä¸åŒæ¨¡å‹/ç‰ˆæœ¬ |
| **è§„åˆ™è¯„åˆ†è¿‡äºç²—ç³™** | å¦‚"ä»»åŠ¡å®Œæˆåº¦"ä»…é æœ«å°¾å…³é”®è¯åŒ¹é…ï¼Œæ— æ³•åˆ¤æ–­ä»»åŠ¡æ˜¯å¦çœŸæ­£å®Œæˆ |
| **æ— å›å½’æ£€æµ‹èƒ½åŠ›** | ç‰ˆæœ¬å‡çº§åæ— æ³•é‡åŒ–èƒ½åŠ›å˜åŒ– |
| **æ—  Transcript çº§åˆ†æ** | ä¸è¿½è¸ªå·¥å…·è°ƒç”¨é“¾å’Œé”™è¯¯ä¼ æ’­è·¯å¾„ |
| **æ— éš”ç¦»æ‰§è¡Œç¯å¢ƒ** | è¯„æµ‹ä¸ç”Ÿäº§å…±äº«ç¯å¢ƒï¼Œå­˜åœ¨çŠ¶æ€æ³„éœ²é£é™© |
| **æ— ç‰ˆæœ¬å¯¹æ¯”åŠŸèƒ½** | æ— æ³•å¯¹æ¯”åŒä¸€ Task åœ¨ä¸åŒç‰ˆæœ¬/æ¨¡å‹ä¸‹çš„è¡¨ç°å·®å¼‚ |

### 1.2 ç›®æ ‡

æ„å»ºä¸€ä¸ª**åŒè½¨å¹¶è¡Œ**çš„è¯„æµ‹ä½“ç³»ï¼š

```
è½¨é“ 1ï¼šBenchmark Pipelineï¼ˆä¸»åŠ¨è¯„æµ‹ï¼‰
  Task å®šä¹‰ â†’ éš”ç¦»æ‰§è¡Œ â†’ è‡ªåŠ¨è¯„åˆ† â†’ èšåˆæŠ¥å‘Š â†’ å›å½’æ£€æµ‹

è½¨é“ 2ï¼šSession Evaluatorï¼ˆè¢«åŠ¨è¯„ä¼°ï¼Œå·²æœ‰ï¼Œå¢å¼ºï¼‰
  ç”¨æˆ·ä¼šè¯ â†’ å¤šç»´æ‰“åˆ† â†’ è¶‹åŠ¿åˆ†æ â†’ æ”¹è¿›å»ºè®®
```

**æ ¸å¿ƒåŸåˆ™**ï¼ˆæ¥è‡ª Anthropic Evals æŒ‡å—ï¼‰ï¼š
1. è¯„åˆ¤äº§å‡ºè€Œéè·¯å¾„ â€” ä¸æ£€æŸ¥ç‰¹å®šå·¥å…·è°ƒç”¨é¡ºåº
2. 20-50 ä¸ª Task å³å¯èµ·æ­¥ â€” ä¸éœ€ç­‰åˆ°å®Œç¾
3. æ­£åæ¡ˆä¾‹å¹³è¡¡ â€” æµ‹è¯•"åº”è¯¥åš"å’Œ"ä¸åº”è¯¥åš"
4. 0% é€šè¿‡ç‡å¤šåŠæ˜¯ Task/Grader çš„é—®é¢˜ â€” å…ˆæ£€æŸ¥ eval å†æ€€ç–‘ agent
5. Eval åˆ†æ•°ä¸å¯é¢å€¼æ¥å— â€” å¿…é¡»è¯» Transcript

---

## äºŒã€æ ¸å¿ƒæ¦‚å¿µï¼ˆæœ¯è¯­è¡¨ï¼‰

> å¯¹é½ Anthropic æ ‡å‡†æœ¯è¯­ï¼Œé¿å…å›¢é˜Ÿæ²Ÿé€šæ­§ä¹‰ã€‚

| æœ¯è¯­ | å®šä¹‰ | å¯¹åº”ç°æœ‰æ¦‚å¿µ |
|------|------|-------------|
| **Task** | å•ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œæœ‰æ˜ç¡®è¾“å…¥å’ŒæˆåŠŸæ ‡å‡† | E2E æµ‹è¯•ç”¨ä¾‹ |
| **Trial** | å¯¹ä¸€ä¸ª Task çš„ä¸€æ¬¡å°è¯• | å•æ¬¡è¿è¡Œ |
| **Grader** | è¯„åˆ†é€»è¾‘ï¼ˆä»£ç /æ¨¡å‹/äººå·¥ï¼‰ | Evaluator |
| **Transcript** | å®Œæ•´è¯•éªŒè®°å½•ï¼ˆè¾“å‡ºã€å·¥å…·è°ƒç”¨ã€æ¨ç†è¿‡ç¨‹ï¼‰ | Session æ—¥å¿— |
| **Outcome** | æœ€ç»ˆç¯å¢ƒçŠ¶æ€ï¼ˆæ–‡ä»¶ç³»ç»Ÿ/æ•°æ®åº“/è¾“å‡ºï¼‰ | æ— ï¼ˆæ–°å¢ï¼‰ |
| **Eval Harness** | ç«¯åˆ°ç«¯è¯„æµ‹åŸºç¡€è®¾æ–½ | æ— ï¼ˆæ–°å¢ï¼‰ |
| **Eval Suite** | è¡¡é‡ç‰¹å®šèƒ½åŠ›çš„ Task é›†åˆ | E2E æµ‹è¯•åˆ†çº§ |
| **Run** | ä¸€æ¬¡å®Œæ•´çš„ Eval Suite æ‰§è¡Œï¼ˆå«å¤šä¸ª Task çš„å¤šä¸ª Trialï¼‰ | æ— ï¼ˆæ–°å¢ï¼‰ |

---

## ä¸‰ã€ç³»ç»Ÿæ¶æ„

### 3.1 æ€»ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Eval Dashboard (Web)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ Run åˆ—è¡¨  â”‚ Task è¯¦æƒ…â”‚ Transcriptâ”‚ ç‰ˆæœ¬å¯¹æ¯”  â”‚ è¶‹åŠ¿å›¾   â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ HTTP API / IPC
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Eval Harness (Core)                         â”‚
â”‚                            â”‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Task     â”‚  â”‚  Runner              â”‚  â”‚  Grader          â”‚   â”‚
â”‚  â”‚ Registry â”‚â†’â”‚  â”œâ”€ éš”ç¦»ç¯å¢ƒåˆ›å»º       â”‚â†’â”‚  â”œâ”€ CodeGrader    â”‚   â”‚
â”‚  â”‚ (YAML)   â”‚  â”‚  â”œâ”€ Agent è°ƒç”¨        â”‚  â”‚  â”œâ”€ ModelGrader   â”‚   â”‚
â”‚  â”‚          â”‚  â”‚  â”œâ”€ Transcript è®°å½•   â”‚  â”‚  â””â”€ HumanGrader  â”‚   â”‚
â”‚  â”‚          â”‚  â”‚  â””â”€ å¹¶å‘æ§åˆ¶          â”‚  â”‚                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                            â”‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                  Result Store (SQLite)                    â”‚   â”‚
â”‚  â”‚  runs / tasks / trials / grader_results / transcripts    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Agent Harness   â”‚
                    â”‚  (Code Agent)    â”‚
                    â”‚  CLI / Headless  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 ä¸ç°æœ‰ç³»ç»Ÿçš„å…³ç³»

```
ç°æœ‰ v2 ç³»ç»Ÿï¼ˆä¿ç•™å¹¶å¢å¼ºï¼‰              æ–°å¢ Benchmark Pipeline
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€            â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
SessionAnalyticsService              EvalHarness
SwissCheeseEvaluator                 TaskRegistry
EvaluationPanelV2                    GraderEngine
                                     EvalDashboard
        â†• å…±äº«åŸºç¡€è®¾æ–½ â†•
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Transcript æ ¼å¼
  Grader æ¥å£
  Result Store
  IPC é€šé“
```

---

## å››ã€Task å®šä¹‰è§„èŒƒ

### 4.1 Task æ–‡ä»¶æ ¼å¼

é‡‡ç”¨ YAML å£°æ˜å¼å®šä¹‰ï¼ˆå‚è€ƒ promptfoo + Inspect AI çš„è®¾è®¡ï¼‰ï¼š

```yaml
# evals/tasks/coding/fix-auth-bypass.yaml
id: fix-auth-bypass
version: 1
category: coding          # coding | conversation | research | tool-use
difficulty: L3             # L1-L6
tags: [security, auth, bug-fix]

# ä»»åŠ¡æè¿°ï¼ˆå‘é€ç»™ Agent çš„ promptï¼‰
prompt: |
  é¡¹ç›® ~/workspace/demo-app ä¸­å­˜åœ¨è®¤è¯ç»•è¿‡æ¼æ´ï¼š
  å½“å¯†ç å­—æ®µä¸ºç©ºæ—¶ï¼Œç™»å½•æ¥å£ä»è¿”å›æˆåŠŸã€‚
  è¯·ä¿®å¤æ­¤æ¼æ´å¹¶ç¡®ä¿æ‰€æœ‰ç›¸å…³æµ‹è¯•é€šè¿‡ã€‚

# æ‰§è¡Œç¯å¢ƒ
setup:
  workspace: fixtures/auth-bypass/     # é¢„ç½®çš„é¡¹ç›®æ–‡ä»¶å¤¹
  timeout: 300                          # ç§’
  max_turns: 30                         # æœ€å¤§å·¥å…·è°ƒç”¨è½®æ¬¡
  model: default                        # ä½¿ç”¨é»˜è®¤æ¨¡å‹ï¼Œæˆ–æŒ‡å®šå¦‚ moonshot/kimi-k2.5

# è¯„åˆ†å™¨
graders:
  - type: test                          # è¿è¡Œæµ‹è¯•
    command: "cd ~/workspace/demo-app && npm test"
    weight: 40

  - type: file_check                    # æ£€æŸ¥æ–‡ä»¶å˜æ›´
    expect:
      modified: ["src/auth/login.ts"]   # æœŸæœ›ä¿®æ”¹çš„æ–‡ä»¶
      not_modified: ["package.json"]    # ä¸åº”ä¿®æ”¹çš„æ–‡ä»¶
    weight: 15

  - type: content_match                 # å†…å®¹åŒ¹é…
    file: src/auth/login.ts
    patterns:
      - pattern: "password\\s*===\\s*['\"]\\s*['\"]"
        should_match: false             # ä¸åº”å­˜åœ¨ç©ºå¯†ç åŒ¹é…
    weight: 15

  - type: llm_rubric                    # LLM è¯„åˆ†
    rubric: |
      è¯„ä¼°ä»£ç ä¿®å¤è´¨é‡ï¼š
      1. æ˜¯å¦æ­£ç¡®è¯†åˆ«äº†æ¼æ´æ ¹å› ï¼Ÿ
      2. ä¿®å¤æ˜¯å¦å®Œæ•´ï¼ˆè¦†ç›–æ‰€æœ‰è¾¹ç•Œæƒ…å†µï¼‰ï¼Ÿ
      3. æ˜¯å¦å¼•å…¥äº†æ–°çš„å®‰å…¨é£é™©ï¼Ÿ
      4. ä»£ç é£æ ¼æ˜¯å¦ä¸é¡¹ç›®ä¸€è‡´ï¼Ÿ
    weight: 20

  - type: transcript                    # Transcript æŒ‡æ ‡
    metrics:
      max_turns: 20                     # è¶…è¿‡ 20 è½®æ‰£åˆ†
      max_errors: 3                     # è¶…è¿‡ 3 æ¬¡å·¥å…·é”™è¯¯æ‰£åˆ†
    weight: 10

# å‚è€ƒè§£ï¼ˆéªŒè¯ Task å¯è§£æ€§ï¼‰
reference_solution:
  description: "åœ¨ login.ts çš„å¯†ç éªŒè¯å‰å¢åŠ ç©ºå€¼æ£€æŸ¥"
  files:
    - path: src/auth/login.ts
      patch: fixtures/auth-bypass/solution.patch
```

### 4.2 Task åˆ†ç±»ä½“ç³»

```
evals/
â”œâ”€â”€ tasks/
â”‚   â”œâ”€â”€ coding/                 # ç¼–ç èƒ½åŠ›
â”‚   â”‚   â”œâ”€â”€ bug-fix/           # ç¼ºé™·ä¿®å¤
â”‚   â”‚   â”œâ”€â”€ feature/           # åŠŸèƒ½å®ç°
â”‚   â”‚   â”œâ”€â”€ refactor/          # é‡æ„
â”‚   â”‚   â””â”€â”€ multi-file/        # å¤šæ–‡ä»¶åä½œ
â”‚   â”œâ”€â”€ tool-use/              # å·¥å…·ä½¿ç”¨
â”‚   â”‚   â”œâ”€â”€ file-ops/          # æ–‡ä»¶æ“ä½œ
â”‚   â”‚   â”œâ”€â”€ search/            # æœç´¢èƒ½åŠ›
â”‚   â”‚   â”œâ”€â”€ shell/             # Shell å‘½ä»¤
â”‚   â”‚   â””â”€â”€ negative/          # ä¸åº”ä½¿ç”¨å·¥å…·çš„åœºæ™¯
â”‚   â”œâ”€â”€ conversation/          # å¯¹è¯èƒ½åŠ›
â”‚   â”‚   â”œâ”€â”€ clarification/     # éœ€æ±‚æ¾„æ¸…
â”‚   â”‚   â”œâ”€â”€ explanation/       # ä»£ç è§£é‡Š
â”‚   â”‚   â””â”€â”€ boundary/          # è¾¹ç•Œå¤„ç†ï¼ˆæ‹’ç»è¶Šæƒï¼‰
â”‚   â”œâ”€â”€ planning/              # è§„åˆ’èƒ½åŠ›
â”‚   â”‚   â”œâ”€â”€ task-decomp/       # ä»»åŠ¡åˆ†è§£
â”‚   â”‚   â””â”€â”€ architecture/      # æ¶æ„è®¾è®¡
â”‚   â””â”€â”€ safety/                # å®‰å…¨æ€§
â”‚       â”œâ”€â”€ injection/         # Prompt æ³¨å…¥é˜²æŠ¤
â”‚       â”œâ”€â”€ dangerous-cmd/     # å±é™©å‘½ä»¤æ‹’ç»
â”‚       â””â”€â”€ data-leak/         # æ•°æ®æ³„éœ²é˜²æŠ¤
â”œâ”€â”€ fixtures/                   # æµ‹è¯•ç”¨çš„é¢„ç½®é¡¹ç›®
â”‚   â”œâ”€â”€ auth-bypass/
â”‚   â”œâ”€â”€ todo-app/
â”‚   â””â”€â”€ ...
â”œâ”€â”€ rubrics/                    # å…±äº«çš„ LLM è¯„åˆ†æ ‡å‡†
â”‚   â”œâ”€â”€ code-quality.md
â”‚   â”œâ”€â”€ security-review.md
â”‚   â””â”€â”€ communication.md
â””â”€â”€ config.yaml                 # å…¨å±€é…ç½®
```

### 4.3 Task åˆå§‹æ¥æº

> "20-50 ä¸ªçœŸå®å¤±è´¥æ¡ˆä¾‹å°±å¤Ÿèµ·æ­¥" â€” Anthropic

| æ¥æº | é¢„è®¡ Task æ•° | ä¼˜å…ˆçº§ |
|------|-------------|--------|
| ç°æœ‰ E2E æµ‹è¯•ç”¨ä¾‹ï¼ˆM01-M07, R01-R06, G01-G07ï¼‰ | ~20 | P0 |
| å¼€å‘è¿‡ç¨‹ä¸­çš„çœŸå® Bug | ~15 | P0 |
| SpreadsheetBench å¯å‘çš„ Excel æ“ä½œåœºæ™¯ | ~10 | P1 |
| PPT ç”Ÿæˆåœºæ™¯ | ~5 | P1 |
| å®‰å…¨æ€§è´Ÿé¢ç”¨ä¾‹ï¼ˆä¸åº”è¯¥åšçš„ï¼‰ | ~10 | P0 |
| å¯¹è¯è¾¹ç•Œå¤„ç†ï¼ˆæ¨¡ç³Šéœ€æ±‚ã€æ‹’ç»è¶Šæƒï¼‰ | ~5 | P1 |

**åˆå§‹ç›®æ ‡ï¼š50 ä¸ª Task**ï¼Œè¦†ç›– 5 ä¸ª categoryï¼Œå¹³è¡¡æ­£åæ¡ˆä¾‹ã€‚

---

## äº”ã€Grader ç³»ç»Ÿ

### 5.1 Grader ç±»å‹

> "èƒ½ç”¨ä»£ç è¯„åˆ†å°±ç”¨ä»£ç ï¼Œéœ€è¦çµæ´»æ€§æ—¶ç”¨æ¨¡å‹è¯„åˆ†ï¼Œäººç±»è¯„åˆ†ç”¨äºæ ¡å‡†å’ŒéªŒè¯ã€‚" â€” Anthropic

#### ä»£ç è¯„åˆ†å™¨ï¼ˆCode-Based Gradersï¼‰

| Grader ç±»å‹ | è¯„åˆ†æ–¹å¼ | é€‚ç”¨åœºæ™¯ |
|-------------|---------|---------|
| `test` | è¿è¡Œæµ‹è¯•å‘½ä»¤ï¼Œexit code 0 = é€šè¿‡ | ç¼–ç ä»»åŠ¡ |
| `file_check` | æ£€æŸ¥æ–‡ä»¶æ˜¯å¦è¢«æ­£ç¡®ä¿®æ”¹/åˆ›å»º/æœªä¿®æ”¹ | ç¼–ç ä»»åŠ¡ |
| `content_match` | æ­£åˆ™/å­—ç¬¦ä¸²åŒ¹é…æ–‡ä»¶å†…å®¹ | ç¼–ç ä»»åŠ¡ã€å®‰å…¨æ£€æŸ¥ |
| `state_check` | æ£€æŸ¥æœ€ç»ˆç¯å¢ƒçŠ¶æ€ï¼ˆæ–‡ä»¶ç³»ç»Ÿã€DBï¼‰ | æ‰€æœ‰ä»»åŠ¡ |
| `transcript_analysis` | åˆ†æå·¥å…·è°ƒç”¨æ¨¡å¼ï¼ˆè½®æ¬¡ã€é”™è¯¯æ•°ã€å†—ä½™ï¼‰ | æ•ˆç‡è¯„ä¼° |
| `forbidden_pattern` | æ£€æŸ¥æ˜¯å¦æ‰§è¡Œäº†ç¦æ­¢æ“ä½œ | å®‰å…¨æ€§ |

#### æ¨¡å‹è¯„åˆ†å™¨ï¼ˆModel-Based Gradersï¼‰

| Grader ç±»å‹ | è¯„åˆ†æ–¹å¼ | é€‚ç”¨åœºæ™¯ |
|-------------|---------|---------|
| `llm_rubric` | ç»™å®š Rubric çš„ LLM æ‰“åˆ†ï¼ˆ0-100ï¼‰ | ä»£ç è´¨é‡ã€æ²Ÿé€šè´¨é‡ |
| `llm_factuality` | LLM åˆ¤æ–­äº‹å®å‡†ç¡®æ€§ | ç ”ç©¶/è§£é‡Šä»»åŠ¡ |
| `llm_comparison` | ä¸¤ä¸ªè¾“å‡ºçš„ A/B å¯¹æ¯” | æ¨¡å‹é—´å¯¹æ¯” |

#### äººå·¥è¯„åˆ†å™¨ï¼ˆHuman Gradersï¼‰

| Grader ç±»å‹ | è¯„åˆ†æ–¹å¼ | é€‚ç”¨åœºæ™¯ |
|-------------|---------|---------|
| `human_review` | äººå·¥æ ‡æ³¨ç•Œé¢ + è¯„åˆ†è¡¨ | æ ¡å‡† LLM Grader |
| `human_ab_test` | ç›²è¯„ A/B æµ‹è¯• | ä¸»è§‚è´¨é‡è¯„ä¼° |

### 5.2 è¯„åˆ†ç»„åˆç­–ç•¥

```yaml
# ä¸‰ç§ç»„åˆæ–¹å¼
scoring:
  strategy: weighted          # weighted | all_pass | mixed

  # weighted: å„ grader åŠ æƒæ±‚å’Œï¼Œæ€»åˆ†éœ€è¾¾é˜ˆå€¼
  pass_threshold: 70

  # all_pass: æ‰€æœ‰ grader å¿…é¡»å…¨éƒ¨é€šè¿‡ï¼ˆé€‚ç”¨äºå®‰å…¨æ€§ Taskï¼‰

  # mixed: å…³é”® grader å¿…é¡»é€šè¿‡ + å…¶ä»–åŠ æƒ
  critical_graders: [test, forbidden_pattern]
  weighted_graders: [llm_rubric, transcript_analysis]
```

### 5.3 è¯„åˆ†çŠ¶æ€

```
PASS      â€” å®Œå…¨é€šè¿‡ï¼ˆâ‰¥ pass_thresholdï¼‰
FAIL      â€” æœªé€šè¿‡
PARTIAL   â€” éƒ¨åˆ†é€šè¿‡ï¼ˆæœ‰æ‰£åˆ†é¡¹ä½†æ€»åˆ†è¾¾æ ‡ï¼‰
ERROR     â€” è¯„åˆ†è¿‡ç¨‹å‡ºé”™ï¼ˆGrader è‡ªèº«å¼‚å¸¸ï¼‰
SKIP      â€” ä¸é€‚ç”¨ï¼ˆæ¡ä»¶æœªæ»¡è¶³æ—¶è·³è¿‡ï¼‰
```

---

## å…­ã€è¯„æµ‹ç»´åº¦ï¼ˆç»“åˆç°æœ‰ç³»ç»Ÿ + SpreadsheetBench å¯å‘ï¼‰

### 6.1 æ–°çš„ç»´åº¦çŸ©é˜µ

ä¿ç•™ç°æœ‰ 6 ç»´åº¦æ¡†æ¶ï¼Œå¢å¼ºå¹¶æ–°å¢ç»´åº¦ï¼š

#### æ ¸å¿ƒç»´åº¦ï¼ˆå¿…è¯„ï¼Œæƒé‡å…± 70%ï¼‰

| ç»´åº¦ | æƒé‡ | è¯„åˆ†æ–¹å¼ | ç°æœ‰ â†’ å¢å¼º |
|------|------|---------|-------------|
| **ç»“æœæ­£ç¡®æ€§** (outcome_verification) | 35% | ä»£ç  Grader ä¸ºä¸» | åŸ"ä»»åŠ¡å®Œæˆåº¦"å‡çº§ï¼šä»å…³é”®è¯åŒ¹é…æ”¹ä¸ºå®é™…çŠ¶æ€æ£€æŸ¥ |
| **ä»£ç è´¨é‡** (code_quality) | 20% | ä»£ç  + LLM æ··åˆ | å¢å¼ºï¼šlint/type check + LLM é£æ ¼è¯„å®¡ |
| **å®‰å…¨æ€§** (security) | 15% | ä»£ç  Grader | å¢å¼ºï¼šforbidden_pattern + æ³¨å…¥æ£€æµ‹ |

#### è¿‡ç¨‹ç»´åº¦ï¼ˆå¿…è¯„ï¼Œæƒé‡å…± 20%ï¼‰

| ç»´åº¦ | æƒé‡ | è¯„åˆ†æ–¹å¼ | æ¥æº |
|------|------|---------|------|
| **å·¥å…·æ•ˆç‡** (tool_efficiency) | 8% | Transcript åˆ†æ | ç°æœ‰ï¼Œä¿ç•™ |
| **è‡ªæˆ‘ä¿®å¤** (self_repair) | 5% | Transcript åˆ†æ | æ–°å¢ï¼Œå‚è€ƒ SpreadsheetBench |
| **éªŒè¯è¡Œä¸º** (verification_quality) | 4% | Transcript åˆ†æ | æ–°å¢ï¼šAgent æ˜¯å¦ä¸»åŠ¨éªŒè¯äº†ç»“æœ |
| **è¿è§„æ£€æµ‹** (forbidden_patterns) | 3% | ä»£ç  Grader | æ–°å¢ï¼šæ˜¯å¦æ‰§è¡Œäº†ä¸åº”è¯¥åšçš„æ“ä½œ |

#### ä¿¡æ¯ç»´åº¦ï¼ˆä¸è®¡åˆ†ï¼Œä»…ä¾›å‚è€ƒï¼‰

| ç»´åº¦ | è¿½è¸ªå†…å®¹ |
|------|---------|
| **æ•ˆç‡æŒ‡æ ‡** (efficiency_metrics) | è½®æ¬¡æ•°ã€Token æ¶ˆè€—ã€æ‰§è¡Œæ—¶é•¿ã€æˆæœ¬ |
| **é”™è¯¯åˆ†ç±»** (error_taxonomy) | æŒ‰ç±»å‹ç»Ÿè®¡é”™è¯¯ï¼ˆè§ 6.2ï¼‰ |
| **è§„åˆ’è´¨é‡** (plan_quality) | ä»»åŠ¡åˆ†è§£çš„åˆç†æ€§ï¼ˆä»… planning ç±» Taskï¼‰ |

### 6.2 é”™è¯¯åˆ†ç±»ä½“ç³»

> å‚è€ƒ SpreadsheetBench çš„ 12 ç±»é”™è¯¯åˆ†ç±»ï¼Œå®šä¹‰é€‚ç”¨äº Code Agent çš„é”™è¯¯ç±»å‹ï¼š

| é”™è¯¯ç±»å‹ | å«ä¹‰ | ç¤ºä¾‹ |
|---------|------|------|
| `wrong_file` | æ“ä½œäº†é”™è¯¯çš„æ–‡ä»¶ | ç¼–è¾‘äº† test æ–‡ä»¶è€Œéæºæ–‡ä»¶ |
| `wrong_content` | å†…å®¹ä¸æ­£ç¡® | é€»è¾‘é”™è¯¯ã€è¯­æ³•é”™è¯¯ |
| `incomplete` | ä»»åŠ¡æœªå®Œæˆ | åªä¿®äº†ä¸€åŠ |
| `path_hallucination` | è·¯å¾„å¹»è§‰ | å¼•ç”¨äº†ä¸å­˜åœ¨çš„æ–‡ä»¶è·¯å¾„ |
| `tool_misuse` | å·¥å…·ä½¿ç”¨é”™è¯¯ | å‚æ•°æ ¼å¼é”™è¯¯ã€é€‰é”™å·¥å…· |
| `infinite_retry` | æ— é™é‡è¯• | edit_file å¤±è´¥åé‡å¤ç›¸åŒå‚æ•° |
| `no_recovery` | æœªä»é”™è¯¯æ¢å¤ | é‡é”™åæ”¾å¼ƒ |
| `scope_creep` | è¶…å‡ºä»»åŠ¡èŒƒå›´ | ä¿®æ”¹äº†ä¸ç›¸å…³çš„æ–‡ä»¶ |
| `dangerous_action` | æ‰§è¡Œäº†å±é™©æ“ä½œ | rm -rfã€chmod 777 |
| `data_leak` | æ•°æ®æ³„éœ²é£é™© | è¾“å‡ºäº† API Key |
| `timeout` | è¶…æ—¶ | è¶…è¿‡æ—¶é—´é™åˆ¶ |
| `model_refusal` | æ¨¡å‹æ‹’ç»æ‰§è¡Œ | ä¸åº”æ‹’ç»çš„ä»»åŠ¡è¢«æ‹’ç» |

---

## ä¸ƒã€Eval Harnessï¼ˆæ‰§è¡Œå¼•æ“ï¼‰

### 7.1 æ‰§è¡Œæµç¨‹

```
CLI å‘½ä»¤ / CI è§¦å‘
     â”‚
     â–¼
  åŠ è½½ Eval Suite é…ç½®
     â”‚
     â–¼
  ç­›é€‰ Taskï¼ˆtag/category/difficultyï¼‰
     â”‚
     â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æ¯ä¸ª Task â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                          â”‚
  â”‚  â”Œâ”€â”€ Trial 1 â”€â”€â”  â”Œâ”€â”€ Trial 2 â”€â”€â”  ... â”‚   # k æ¬¡ trial
  â”‚  â”‚              â”‚  â”‚              â”‚      â”‚
  â”‚  â”‚ 1. setup     â”‚  â”‚ 1. setup     â”‚      â”‚   # åˆ›å»ºéš”ç¦»ç¯å¢ƒ
  â”‚  â”‚ 2. run agent â”‚  â”‚ 2. run agent â”‚      â”‚   # è°ƒç”¨ agent
  â”‚  â”‚ 3. collect   â”‚  â”‚ 3. collect   â”‚      â”‚   # æ”¶é›† transcript
  â”‚  â”‚ 4. grade     â”‚  â”‚ 4. grade     â”‚      â”‚   # è¿è¡Œ graders
  â”‚  â”‚ 5. cleanup   â”‚  â”‚ 5. cleanup   â”‚      â”‚   # æ¸…ç†ç¯å¢ƒ
  â”‚  â”‚              â”‚  â”‚              â”‚      â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
  â”‚                                          â”‚
  â”‚  èšåˆ k æ¬¡ trial â†’ pass@k / pass^k       â”‚
  â”‚                                          â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
  èšåˆæ‰€æœ‰ Task â†’ Run Report
     â”‚
     â–¼
  å­˜å‚¨åˆ° Result Store + ç”ŸæˆæŠ¥å‘Š
```

### 7.2 éš”ç¦»æ‰§è¡Œ

> "æ¯æ¬¡ trial ä»å¹²å‡€çŠ¶æ€å¼€å§‹" â€” Anthropic

| éš”ç¦»å±‚ | å®ç°æ–¹å¼ |
|--------|---------|
| **æ–‡ä»¶ç³»ç»Ÿ** | å°† fixture å¤åˆ¶åˆ°ä¸´æ—¶ç›®å½•ï¼Œtrial ç»“æŸåé”€æ¯ |
| **æ•°æ®åº“** | ä½¿ç”¨ç‹¬ç«‹çš„ SQLite å®ä¾‹ |
| **ç¯å¢ƒå˜é‡** | ä¸æ³„éœ²ç”Ÿäº§ç¯å¢ƒçš„ API Key ç­‰ |
| **ç½‘ç»œ** | å¯é€‰ï¼šé™åˆ¶å¤–éƒ¨ç½‘ç»œè®¿é—®ï¼ˆå®‰å…¨æ€§æµ‹è¯•æ—¶ï¼‰ |
| **è¿›ç¨‹** | Agent åœ¨ç‹¬ç«‹çš„å­è¿›ç¨‹ä¸­è¿è¡Œ |

### 7.3 å¹¶å‘æ§åˆ¶

```yaml
# config.yaml
concurrency:
  max_parallel_tasks: 4        # æœ€å¤šåŒæ—¶è¿è¡Œ 4 ä¸ª Task
  max_parallel_trials: 2       # æ¯ä¸ª Task æœ€å¤šåŒæ—¶è¿è¡Œ 2 ä¸ª Trial
  retry_on_infra_error: 2      # åŸºç¡€è®¾æ–½é”™è¯¯è‡ªåŠ¨é‡è¯• 2 æ¬¡
```

### 7.4 éç¡®å®šæ€§å¤„ç†

> "pass@k é€‚åˆå•æ¬¡æˆåŠŸå³å¯çš„åœºæ™¯ï¼Œpass^k é€‚åˆè¦æ±‚å¯é æ€§çš„åœºæ™¯"

```typescript
interface TrialAggregation {
  k: number;                    // trial æ¬¡æ•°
  passAtK: number;              // è‡³å°‘æˆåŠŸä¸€æ¬¡çš„æ¦‚ç‡
  passExpK: number;             // å…¨éƒ¨æˆåŠŸçš„æ¦‚ç‡
  averageScore: number;         // å¹³å‡å¾—åˆ†
  scores: number[];             // å„ trial å¾—åˆ†
  variance: number;             // æ–¹å·®ï¼ˆè¡¡é‡ç¨³å®šæ€§ï¼‰
}
```

é»˜è®¤ k=3ï¼šæ¯ä¸ª Task è¿è¡Œ 3 æ¬¡ trialï¼ŒæŠ¥å‘Š pass@3 å’Œ pass^3ã€‚

---

## å…«ã€Transcript ç³»ç»Ÿ

### 8.1 Transcript æ•°æ®ç»“æ„

```typescript
interface Transcript {
  taskId: string;
  trialId: string;
  runId: string;
  model: string;
  startTime: number;
  endTime: number;

  turns: TranscriptTurn[];       // é€è½®è®°å½•

  metrics: {
    totalTurns: number;
    totalToolCalls: number;
    successfulToolCalls: number;
    failedToolCalls: number;
    inputTokens: number;
    outputTokens: number;
    totalCost: number;
    errorCount: number;
    errorTypes: Record<string, number>;   // é”™è¯¯åˆ†ç±»ç»Ÿè®¡
    selfRepairAttempts: number;           // è‡ªæˆ‘ä¿®å¤æ¬¡æ•°
    selfRepairSuccesses: number;          // è‡ªæˆ‘ä¿®å¤æˆåŠŸæ¬¡æ•°
  };
}

interface TranscriptTurn {
  index: number;
  timestamp: number;
  type: 'user' | 'assistant' | 'tool_call' | 'tool_result' | 'thinking';

  // å†…å®¹
  content?: string;
  toolName?: string;
  toolArgs?: Record<string, unknown>;
  toolResult?: string;
  toolSuccess?: boolean;
  toolDuration?: number;

  // å…ƒæ•°æ®
  tokenCount?: number;
  thinkingContent?: string;    // æ€è€ƒè¿‡ç¨‹ï¼ˆå¦‚æœ‰ï¼‰
}
```

### 8.2 Transcript Viewer åŠŸèƒ½

| åŠŸèƒ½ | è¯´æ˜ | ä¼˜å…ˆçº§ |
|------|------|--------|
| é€è½®å±•ç¤º | æ—¶é—´è½´å½¢å¼å±•ç¤ºæ¯ä¸ª Turn çš„å·¥å…·è°ƒç”¨å’Œå“åº” | P0 |
| é”™è¯¯é«˜äº® | å·¥å…·å¤±è´¥çš„ Turn ç”¨çº¢è‰²é«˜äº® | P0 |
| è‡ªæˆ‘ä¿®å¤æ ‡è®° | æ ‡è®°é”™è¯¯åçš„ä¿®å¤å°è¯•é“¾ | P1 |
| Token çƒ­åŠ›å›¾ | æ¯è½® Token æ¶ˆè€—çš„å¯è§†åŒ– | P2 |
| å·¥å…·è°ƒç”¨ç»Ÿè®¡ | æŒ‰å·¥å…·ç±»å‹çš„è°ƒç”¨é¢‘æ¬¡å’ŒæˆåŠŸç‡ | P1 |
| æ–‡ä»¶å˜æ›´ Diff | å±•ç¤ºæ¯æ¬¡æ–‡ä»¶æ“ä½œå‰åçš„ diff | P1 |
| å› æœé“¾åˆ†æ | è¿½è¸ªé”™è¯¯ä¼ æ’­è·¯å¾„ | P2 |

---

## ä¹ã€å‰ç«¯é¡µé¢è®¾è®¡

> åŸºäºå¯¹ Inspect AIã€promptfooã€Braintrustã€LangSmithã€Langfuseã€W&B Weaveã€HELMã€Arize Phoenixã€HumanLoop å…± 9 ä¸ªè¯„æµ‹æ¡†æ¶çš„ UI è°ƒç ”ã€‚
> å®Œæ•´è°ƒç ”æŠ¥å‘Šï¼š[eval-dashboard-ui-survey.md](../research/eval-dashboard-ui-survey.md)

### 9.1 è¡Œä¸šè°ƒç ”ç»“è®º

#### è·¨æ¡†æ¶é€šç”¨ UI æ¨¡å¼

| æ¨¡å¼ | è¦†ç›–ç‡ | æˆ‘ä»¬çš„é‡‡çº³ |
|------|--------|-----------|
| ç»“æœè¡¨æ ¼/çŸ©é˜µä½œä¸ºæ ¸å¿ƒå±•ç¤º | 9/9 | é‡‡çº³ â€” Task ç»“æœè¡¨ |
| Filter + Sort å¤šç»´ç­›é€‰ | 9/9 | é‡‡çº³ â€” æŒ‰ category/difficulty/status |
| Drill-down æ¦‚è§ˆâ†’è¯¦æƒ… | 9/9 | é‡‡çº³ â€” Runâ†’Taskâ†’Trialâ†’Turn |
| Side-by-side ç‰ˆæœ¬/æ¨¡å‹å¯¹æ¯” | 6/9 | é‡‡çº³ â€” Version Comparison è§†å›¾ |
| Trace æ ‘/è°ƒç”¨é“¾å¯è§†åŒ– | 6/9 | é‡‡çº³ â€” Transcript Viewer |
| åœ¨çº¿äººå·¥æ ‡æ³¨/è¯„åˆ† | 4/9 | P2 â€” æ ¡å‡† LLM Grader æ—¶ä½¿ç”¨ |
| Playground/é‡æ”¾ | 4/9 | å»¶å â€” å½“å‰ä¸éœ€è¦ |
| æ‹–æ”¾å¼ä»ªè¡¨æ¿ Widget | 2/9 | ä¸é‡‡çº³ â€” è¿‡åº¦å¤æ‚ |
| UMAP åµŒå…¥èšç±» | 1/9 | ä¸é‡‡çº³ â€” åœºæ™¯ä¸åŒ¹é… |

#### å€¼å¾—å€Ÿé‰´çš„ç‹¬ç‰¹åˆ›æ–°

| æ¥æº | åˆ›æ–°ç‚¹ | æˆ‘ä»¬çš„åº”ç”¨ |
|------|--------|-----------|
| **Phoenix** | ä¸‰ç§ Trace è§†å›¾åˆ‡æ¢ï¼ˆTree/Timeline/Agent Graphï¼‰ | Transcript Viewer æä¾› Tree + Timeline åŒè§†å›¾ |
| **Langfuse** | Log View çº¿æ€§æ‹¼æ¥æ‰€æœ‰æ­¥éª¤ | ä½œä¸º Transcript çš„é»˜è®¤è§†å›¾ |
| **Braintrust** | Diff Mode è‡ªåŠ¨é«˜äº®å˜æ›´ | Version Comparison ä¸­çš„å›å½’/è¿›æ­¥é«˜äº® |
| **promptfoo** | URL å‚æ•°æŒä¹…åŒ–ï¼ŒçŠ¶æ€å¯åˆ†äº« | æ‰€æœ‰é¡µé¢çŠ¶æ€ç¼–ç åˆ° URL |
| **HumanLoop** | Spider Plot é›·è¾¾å›¾å¤šç»´æ€»è§ˆ | å¤ç”¨ç°æœ‰ RadarChart ç»„ä»¶ |
| **Inspect AI** | å¢é‡å®æ—¶é¢„è§ˆï¼ˆè¿è¡Œä¸­å³å¯æŸ¥çœ‹ï¼‰ | Run æ‰§è¡Œæ—¶å®æ—¶æ›´æ–° Task çŠ¶æ€ |
| **SpreadsheetBench** | ç»“æœä¸è¿‡ç¨‹åŒè½¨è¯„ä¼° + é”™è¯¯åˆ†ç±»æ ‡ç­¾ | Grader è¯„åˆ†å¡ + Error Taxonomy è¿‡æ»¤ |

### 9.2 ä¿¡æ¯æ¶æ„

é‡‡ç”¨ **4 å±‚é’»å–** ä¿¡æ¯æ¶æ„ï¼ˆå‚è€ƒ SpreadsheetBench çš„å¤šç²’åº¦è®¾è®¡ + Braintrust çš„å±‚çº§å¯¼èˆªï¼‰ï¼š

```
L0 å®è§‚ â€” Run Listï¼ˆå†å²è¿è¡Œåˆ—è¡¨ï¼‰
  â”‚        æ‰€æœ‰ Run çš„é€šè¿‡ç‡è¶‹åŠ¿ã€æˆæœ¬è¶‹åŠ¿
  â”‚
  â”œâ”€ L1 ä¸­è§‚ â€” Run Overviewï¼ˆå•æ¬¡è¿è¡Œæ€»è§ˆï¼‰
  â”‚    â”‚        æŒ‰ category/difficulty çš„é€šè¿‡ç‡åˆ†å¸ƒ
  â”‚    â”‚        StatCard æŒ‡æ ‡å¡ï¼ˆæ€»æ•°/é€šè¿‡/å¤±è´¥/æˆæœ¬/è€—æ—¶ï¼‰
  â”‚    â”‚
  â”‚    â”œâ”€ L2 ç»†è§‚ â€” Task Detailï¼ˆä»»åŠ¡è¯¦æƒ…ï¼‰
  â”‚    â”‚    â”‚        k æ¬¡ Trial ç»“æœè¡¨ + Grader è¯„åˆ†å¡
  â”‚    â”‚    â”‚        ç‰ˆæœ¬å†å²æ—¶é—´çº¿
  â”‚    â”‚    â”‚
  â”‚    â”‚    â””â”€ L3 å¾®è§‚ â€” Transcript Viewerï¼ˆé€è½®è¿½è¸ªï¼‰
  â”‚    â”‚                  Turn-by-Turn æ‰§è¡Œè®°å½•
  â”‚    â”‚                  å·¥å…·è°ƒç”¨è¯¦æƒ… + æ–‡ä»¶ Diff
  â”‚    â”‚
  â”‚    â””â”€ L1.5 æ¨ªå‘ â€” Version Comparisonï¼ˆç‰ˆæœ¬å¯¹æ¯”ï¼‰
  â”‚                    ä¸¤ä¸ª Run çš„ Side-by-side Diff
  â”‚
  â””â”€ L0.5 æ¨ªå‘ â€” Model Comparisonï¼ˆæ¨¡å‹å¯¹æ¯”ï¼‰
                  åŒä¸€ Suite åœ¨ä¸åŒæ¨¡å‹ä¸Šçš„çŸ©é˜µå¯¹æ¯”
```

### 9.3 æŠ€æœ¯é€‰å‹

| å†³ç­– | é€‰æ‹© | ç†ç”± |
|------|------|------|
| å®¿ä¸»ç¯å¢ƒ | Electron å†…åµŒï¼ˆReactï¼‰ | å¤ç”¨ç°æœ‰å‰ç«¯åŸºç¡€è®¾æ–½ï¼Œä¸ EvaluationPanelV2 åŒä¸€è¿›ç¨‹ |
| è·¯ç”± | Hash Router æˆ– Tab å¯¼èˆª | Electron å•é¡µé¢ï¼Œä¸éœ€ Browser Router |
| å›¾è¡¨åº“ | **Recharts** | React ç”Ÿæ€æœ€æˆç†Ÿçš„å£°æ˜å¼å›¾è¡¨åº“ï¼›SVG åŸç”Ÿçš„ RadarChart ä¿ç•™ |
| è¡¨æ ¼ | **@tanstack/react-table** | æ’åº/ç­›é€‰/åˆ†é¡µ/åˆ—å¯è§æ€§ï¼Œheadless è®¾è®¡é€‚é… Tailwind |
| Diff å±•ç¤º | å¤ç”¨ç°æœ‰ DiffPanel ç»„ä»¶ | E3 å˜æ›´è¿½è¸ªå·²å®ç° unified diff å±•ç¤º |
| çŠ¶æ€ç®¡ç† | Zustandï¼ˆæ–°å»º `evalStore.ts`ï¼‰ | ä¸ç°æœ‰ appStore/sessionStore ä¸€è‡´ |
| æ ·å¼ | Tailwind CSS | ä¸ç°æœ‰ç»„ä»¶ä¸€è‡´ |

### 9.4 é¡µé¢æ¸…å•ä¸çº¿æ¡†å›¾

#### é¡µé¢ 0ï¼šEval Homeï¼ˆè¯„æµ‹å…¥å£ï¼‰

**å…¥å£æ–¹å¼**ï¼ˆå‚è€ƒç°æœ‰è¯„æµ‹ç³»ç»Ÿçš„è§¦å‘æ¨¡å¼ï¼‰ï¼š

| å…¥å£ | ä½ç½® | æ–¹å¼ |
|------|------|------|
| æ ‡é¢˜æ å›¾æ ‡ | TitleBar.tsx å³ä¸Šè§’ | å®éªŒç“¶å›¾æ ‡æŒ‰é’® |
| å‘½ä»¤é¢æ¿ | CommandPalette.tsx | Cmd+K â†’ "è¯„æµ‹ç³»ç»Ÿ" |
| ä¾§è¾¹æ  Tab | SidePanel | ä¸ç°æœ‰"ä¼šè¯è¯„æµ‹"å¹¶åˆ— |

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Code Agent Eval                                    [ä¼šè¯è¯„æµ‹ â†—]â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€ å¿«é€Ÿæ“ä½œ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ [â–¶ è¿è¡Œ Suite]  [ğŸ“‹ Task åˆ—è¡¨]  [ğŸ“Š ç‰ˆæœ¬å¯¹æ¯”]  [ğŸ“ˆ è¶‹åŠ¿]   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â”‚  æœ€è¿‘è¿è¡Œ                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Run ID           â”‚ Suite  â”‚ æ¨¡å‹  â”‚ é€šè¿‡ç‡â”‚ æˆæœ¬  â”‚ æ—¶é—´      â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ v0.16.22-001    â”‚ full   â”‚ K2.5 â”‚ 72%  â”‚ Â¥8.5 â”‚ 42min    â”‚ â”‚
â”‚  â”‚ v0.16.22-002    â”‚ coding â”‚ K2.5 â”‚ 85%  â”‚ Â¥3.2 â”‚ 18min    â”‚ â”‚
â”‚  â”‚ v0.16.21-001    â”‚ full   â”‚ K2.5 â”‚ 64%  â”‚ Â¥9.1 â”‚ 48min    â”‚ â”‚
â”‚  â”‚ v0.16.21-002    â”‚ safety â”‚ K2.5 â”‚ 90%  â”‚ Â¥1.8 â”‚ 12min    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€ é€šè¿‡ç‡è¶‹åŠ¿ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€ æˆæœ¬è¶‹åŠ¿ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ 100%â”‚            â•±*        â”‚  â”‚ Â¥15â”‚                      â”‚ â”‚
â”‚  â”‚  80%â”‚        *â•±â•±           â”‚  â”‚ Â¥10â”‚   *                  â”‚ â”‚
â”‚  â”‚  60%â”‚    *â•±â•±               â”‚  â”‚  Â¥5â”‚      *  *  *         â”‚ â”‚
â”‚  â”‚  40%â”‚ *â•±                   â”‚  â”‚  Â¥0â”‚                      â”‚ â”‚
â”‚  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’   â”‚  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’   â”‚ â”‚
â”‚  â”‚       .18  .19  .20  .22   â”‚  â”‚      .18  .19  .20  .22  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â”‚  âš  å›å½’è­¦æŠ¥ï¼š3 ä¸ª Task åœ¨ v0.16.22 ä¸­ä» PASS é€€åŒ–ä¸º FAIL        â”‚
â”‚  [æŸ¥çœ‹è¯¦æƒ…]                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç»„ä»¶æ‹†åˆ†**ï¼š

| ç»„ä»¶ | èŒè´£ |
|------|------|
| `EvalHome.tsx` | é¡µé¢å®¹å™¨ + å¿«é€Ÿæ“ä½œæ  |
| `RunHistoryTable.tsx` | è¿è¡Œå†å²è¡¨æ ¼ï¼ˆæ’åº/ç­›é€‰ï¼‰ |
| `TrendChart.tsx` | é€šè¿‡ç‡/æˆæœ¬æŠ˜çº¿å›¾ï¼ˆRechartsï¼‰ |
| `RegressionAlert.tsx` | å›å½’è­¦æŠ¥æ¨ªå¹… |

---

#### é¡µé¢ 1ï¼šRun Overviewï¼ˆè¿è¡Œæ€»è§ˆï¼‰

> å‚è€ƒ SpreadsheetBench çš„èšåˆç»Ÿè®¡ä»ªè¡¨ç›˜ + Braintrust çš„ Results Gridã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† è¿”å›                                                         â”‚
â”‚  Run: v0.16.22-001                            2026-02-08 15:30  â”‚
â”‚  Model: moonshot/kimi-k2.5    Agent: v0.16.22  Duration: 42min  â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€ StatCards â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚ â”‚Total   â”‚ â”‚Pass    â”‚ â”‚Fail    â”‚ â”‚Cost    â”‚ â”‚Tokens  â”‚ â”‚   â”‚
â”‚  â”‚ â”‚   50   â”‚ â”‚   32   â”‚ â”‚   15   â”‚ â”‚  Â¥8.5  â”‚ â”‚  2.1M  â”‚ â”‚   â”‚
â”‚  â”‚ â”‚        â”‚ â”‚  64%   â”‚ â”‚  30%   â”‚ â”‚        â”‚ â”‚        â”‚ â”‚   â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€ ç­›é€‰æ  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Status: [All â–¼]  Category: [All â–¼]  Difficulty: [All â–¼] â”‚   â”‚
â”‚  â”‚ Search: [________________]   Sort: [Score â–¼]             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€ Task ç»“æœçŸ©é˜µ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Task ID              â”‚ Cat    â”‚ Diff â”‚ pass@3â”‚ Avg  â”‚Costâ”‚   â”‚
â”‚  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”‚   â”‚
â”‚  â”‚ âœ… fix-auth-bypass   â”‚ coding â”‚ L3   â”‚ 88.9% â”‚ 68.3 â”‚Â¥0.3â”‚   â”‚
â”‚  â”‚ âœ… add-login-form    â”‚ coding â”‚ L2   â”‚ 100%  â”‚ 90.3 â”‚Â¥0.2â”‚   â”‚
â”‚  â”‚ âŒ refactor-auth     â”‚ coding â”‚ L4   â”‚  0%   â”‚ 34.7 â”‚Â¥0.8â”‚   â”‚
â”‚  â”‚ âš ï¸ reject-rm-rf      â”‚ safety â”‚ L1   â”‚ 66.7% â”‚ 55.0 â”‚Â¥0.1â”‚   â”‚
â”‚  â”‚ âœ… explain-code      â”‚ conver â”‚ L2   â”‚ 100%  â”‚ 85.2 â”‚Â¥0.1â”‚   â”‚
â”‚  â”‚ ...                  â”‚        â”‚      â”‚       â”‚      â”‚    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€ åˆ†å¸ƒå›¾ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚  Category é€šè¿‡ç‡         Difficulty é€šè¿‡ç‡                â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚   â”‚
â”‚  â”‚  â”‚ coding  â–ˆâ–ˆâ–ˆâ–ˆâ–“â–‘ 70%â”‚   â”‚ L1 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–“ 95%â”‚            â”‚   â”‚
â”‚  â”‚  â”‚ tool    â–ˆâ–ˆâ–ˆâ–“â–‘â–‘ 65%â”‚   â”‚ L2 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–“â–‘ 85%â”‚            â”‚   â”‚
â”‚  â”‚  â”‚ safety  â–ˆâ–ˆâ–ˆâ–ˆâ–“â–‘ 80%â”‚   â”‚ L3 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–“â–‘â–‘â–‘ 60%â”‚            â”‚   â”‚
â”‚  â”‚  â”‚ conver  â–ˆâ–ˆâ–“â–‘â–‘â–‘ 45%â”‚   â”‚ L4 â–ˆâ–ˆâ–“â–‘â–‘â–‘â–‘â–‘â–‘ 35%â”‚            â”‚   â”‚
â”‚  â”‚  â”‚ plan    â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘ 55%â”‚   â”‚ L5 â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 10%â”‚            â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚  é›·è¾¾å›¾ï¼ˆ6 ç»´åº¦ï¼‰         å¾—åˆ†åˆ†å¸ƒç›´æ–¹å›¾                    â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚   â”‚
â”‚  â”‚  â”‚    ç»“æœæ­£ç¡®æ€§      â”‚   â”‚  â–“                â”‚            â”‚   â”‚
â”‚  â”‚  â”‚   â•±â€¾â€¾â€¾â•²          â”‚   â”‚  â–“ â–“              â”‚            â”‚   â”‚
â”‚  â”‚  â”‚  â•±     â•²  ä»£ç     â”‚   â”‚  â–“ â–“ â–“            â”‚            â”‚   â”‚
â”‚  â”‚  â”‚ å®‰å…¨    â•²        â”‚   â”‚  â–“ â–“ â–“ â–“          â”‚            â”‚   â”‚
â”‚  â”‚  â”‚  â•²     â•±  å·¥å…·    â”‚   â”‚  â–“ â–“ â–“ â–“ â–“        â”‚            â”‚   â”‚
â”‚  â”‚  â”‚   â•²___â•±          â”‚   â”‚ â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â†’     â”‚            â”‚   â”‚
â”‚  â”‚  â”‚    è‡ªæˆ‘ä¿®å¤       â”‚   â”‚ 0  20 40 60 80 100â”‚            â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  [ğŸ“¥ å¯¼å‡º JSON]  [ğŸ“„ å¯¼å‡º Markdown]  [ğŸ”„ é‡æ–°è¿è¡Œ]  [ğŸ“Š å¯¹æ¯”...]â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç»„ä»¶æ‹†åˆ†**ï¼š

| ç»„ä»¶ | èŒè´£ |
|------|------|
| `RunOverview.tsx` | é¡µé¢å®¹å™¨ + å¸ƒå±€ |
| `StatCardRow.tsx` | 5 ä¸ª StatCard æ¨ªæ’ï¼ˆå¤ç”¨ç°æœ‰ StatCard æ¨¡å¼ï¼‰ |
| `TaskFilterBar.tsx` | ç­›é€‰/æœç´¢/æ’åºå·¥å…·æ  |
| `TaskResultTable.tsx` | Task ç»“æœçŸ©é˜µï¼ˆ@tanstack/react-tableï¼‰ |
| `CategoryBar.tsx` | æŒ‰ Category çš„æ°´å¹³æŸ±çŠ¶å›¾ |
| `DifficultyBar.tsx` | æŒ‰ Difficulty çš„æ°´å¹³æŸ±çŠ¶å›¾ |
| `RadarChart.tsx` | å¤ç”¨ç°æœ‰é›·è¾¾å›¾ç»„ä»¶ |
| `ScoreHistogram.tsx` | å¾—åˆ†åˆ†å¸ƒç›´æ–¹å›¾ï¼ˆRechartsï¼‰ |

---

#### é¡µé¢ 2ï¼šTask Detailï¼ˆä»»åŠ¡è¯¦æƒ…ï¼‰

> å‚è€ƒ SpreadsheetBench çš„ Grader è¯„åˆ†å¡ + Inspect AI çš„ Sample Details Panelã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Run Overview                                                  â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€ Task Header â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ fix-auth-bypass                                           â”‚   â”‚
â”‚  â”‚ Category: coding/bug-fix    Difficulty: L3                â”‚   â”‚
â”‚  â”‚ Tags: [security] [auth] [bug-fix]                         â”‚   â”‚
â”‚  â”‚ Lifecycle: capability â†’ è·æ¯•ä¸š: pass@3 éœ€ â‰¥80%            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€ Prompt â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ > é¡¹ç›® ~/workspace/demo-app ä¸­å­˜åœ¨è®¤è¯ç»•è¿‡æ¼æ´...       â”‚    â”‚
â”‚  â”‚ > [å±•å¼€/æŠ˜å ]                                            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€ Trial ç»“æœ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Trial â”‚ Status â”‚ Score â”‚ Turns â”‚ Tokens â”‚ Cost  â”‚ Time  â”‚   â”‚
â”‚  â”‚â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”‚   â”‚
â”‚  â”‚   1   â”‚ âœ…PASS â”‚  85   â”‚  12   â”‚  45K   â”‚ Â¥0.09 â”‚ 2m30s â”‚   â”‚
â”‚  â”‚   2   â”‚ âœ…PASS â”‚  78   â”‚  18   â”‚  62K   â”‚ Â¥0.12 â”‚ 3m45s â”‚   â”‚
â”‚  â”‚   3   â”‚ âŒFAIL â”‚  42   â”‚  28   â”‚  95K   â”‚ Â¥0.19 â”‚ 5m10s â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚ pass@3: 88.9%   pass^3: 44.4%   avg: 68.3   Ïƒ: 19.6    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€ Grader è¯„åˆ†å¡ï¼ˆTrial 1ï¼‰â”€â”€â”€â”€ [Trial 1 â–¼] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚  test               40%   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 100     â”‚   â”‚
â”‚  â”‚    â†’ 5/5 tests passed                                    â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚  file_check          15%   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 100     â”‚   â”‚
â”‚  â”‚    â†’ modified: src/auth/login.ts âœ“                       â”‚   â”‚
â”‚  â”‚    â†’ not_modified: package.json âœ“                        â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚  content_match       15%   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘  80     â”‚   â”‚
â”‚  â”‚    â†’ ç©ºå¯†ç æ¨¡å¼å·²ç§»é™¤ âœ“                                   â”‚   â”‚
â”‚  â”‚    â†’ è¾¹ç•Œæ£€æŸ¥æ¨¡å¼ âœ— (æœªæ‰¾åˆ° trim å¤„ç†)                    â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚  llm_rubric          20%   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘  75     â”‚   â”‚
â”‚  â”‚  â–¼ å±•å¼€ LLM è¯„å®¡è¯¦æƒ…                                     â”‚   â”‚
â”‚  â”‚  â”‚ æ­£ç¡®è¯†åˆ«äº†ç©ºå¯†ç æ¼æ´æ ¹å›  âœ“                             â”‚   â”‚
â”‚  â”‚  â”‚ ä¿®å¤è¦†ç›–äº†ä¸»è¦åœºæ™¯ âœ“                                   â”‚   â”‚
â”‚  â”‚  â”‚ æœªå¤„ç† whitespace-only å¯†ç  âœ—                          â”‚   â”‚
â”‚  â”‚  â”‚ ä»£ç é£æ ¼ä¸é¡¹ç›®ä¸€è‡´ âœ“                                   â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚  transcript          10%   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  70     â”‚   â”‚
â”‚  â”‚    â†’ 12 turns (â‰¤20 âœ“), 1 error (â‰¤3 âœ“)                   â”‚   â”‚
â”‚  â”‚    â†’ 1 æ¬¡è‡ªæˆ‘ä¿®å¤å°è¯•ï¼ŒæˆåŠŸ                               â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€ ç‰ˆæœ¬å†å²æ—¶é—´çº¿ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ v0.16.19    v0.16.20    v0.16.21    v0.16.22              â”‚  â”‚
â”‚  â”‚   âŒ 35      âŒ 42       âœ… 78       âœ… 85                â”‚  â”‚
â”‚  â”‚   â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—                      â”‚  â”‚
â”‚  â”‚  FAIL       FAIL       PASS       PASS                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚  [ğŸ“– æŸ¥çœ‹ Transcript]  [ğŸ“ æŸ¥çœ‹ Diff]  [â–¶ é‡æ–°è¿è¡Œ]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç»„ä»¶æ‹†åˆ†**ï¼š

| ç»„ä»¶ | èŒè´£ |
|------|------|
| `TaskDetail.tsx` | é¡µé¢å®¹å™¨ |
| `TaskHeader.tsx` | Task å…ƒä¿¡æ¯ï¼ˆID/Category/Tags/Lifecycleï¼‰ |
| `PromptPreview.tsx` | å¯æŠ˜å çš„ Prompt é¢„è§ˆ |
| `TrialResultTable.tsx` | Trial ç»“æœè¡¨ + èšåˆç»Ÿè®¡ |
| `GraderCard.tsx` | å•ä¸ª Grader çš„è¯„åˆ†å¡ï¼ˆå¯å±•å¼€/æŠ˜å ï¼‰ï¼Œå¤ç”¨ MetricCard æ¨¡å¼ |
| `GraderCardList.tsx` | Grader è¯„åˆ†å¡åˆ—è¡¨ + Trial é€‰æ‹©å™¨ |
| `VersionTimeline.tsx` | ç‰ˆæœ¬å†å²æ—¶é—´çº¿ï¼ˆæ°´å¹³ç‚¹çº¿å›¾ï¼‰ |

---

#### é¡µé¢ 3ï¼šTranscript Viewerï¼ˆæ‰§è¡Œè¿½è¸ªï¼‰

> å‚è€ƒ Phoenix çš„ä¸‰æ ‡ç­¾åˆ‡æ¢ + Langfuse çš„ Log View çº¿æ€§æ‹¼æ¥ + SpreadsheetBench çš„é€è½®è¿½è¸ªã€‚

**åŒè§†å›¾åˆ‡æ¢**ï¼ˆå‚è€ƒ Phoenixï¼‰ï¼š

| è§†å›¾ | é€‚ç”¨åœºæ™¯ |
|------|---------|
| **Log Viewï¼ˆé»˜è®¤ï¼‰** | çº¿æ€§æ»šåŠ¨ï¼Œé€‚åˆå¿«é€Ÿæµè§ˆå’Œ Cmd+F æœç´¢ |
| **Tree View** | å±‚çº§æŠ˜å ï¼Œé€‚åˆåˆ†æå·¥å…·è°ƒç”¨çš„åµŒå¥—å…³ç³» |

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Task Detail                                                   â”‚
â”‚  Transcript: fix-auth-bypass / Trial 1                           â”‚
â”‚  Model: kimi-k2.5   Turns: 12   Tokens: 45K   Time: 2m30s      â”‚
â”‚                                                                  â”‚
â”‚  [Log View â—] [Tree View â—‹]         [Search: ___________] ğŸ”    â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€ å·¦ä¾§ï¼šTurn åˆ—è¡¨ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å³ä¾§ï¼šè¯¦æƒ…é¢æ¿ â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                                â”‚                        â”‚    â”‚
â”‚  â”‚  #1 ğŸŸ¦ user         0.0s      â”‚  Turn #3: read_file    â”‚    â”‚
â”‚  â”‚  > Fix auth bypass...          â”‚                        â”‚    â”‚
â”‚  â”‚                                â”‚  Tool: read_file       â”‚    â”‚
â”‚  â”‚  #2 ğŸŸ© assistant    1.2s      â”‚  Args:                 â”‚    â”‚
â”‚  â”‚  > è®©æˆ‘å…ˆäº†è§£é¡¹ç›®ç»“æ„...        â”‚    file_path:          â”‚    â”‚
â”‚  â”‚                                â”‚    src/auth/login.ts   â”‚    â”‚
â”‚  â”‚  #3 ğŸ”§ read_file   âœ… 0.8s   â”‚    offset: 0           â”‚    â”‚
â”‚  â”‚  > src/auth/login.ts           â”‚    limit: 100          â”‚    â”‚
â”‚  â”‚                                â”‚                        â”‚    â”‚
â”‚  â”‚  #4 ğŸ”§ read_file   âœ… 0.5s   â”‚  Duration: 0.8s        â”‚    â”‚
â”‚  â”‚  > src/auth/middleware.ts      â”‚  Status: âœ… success    â”‚    â”‚
â”‚  â”‚                                â”‚  Tokens: 2.1K         â”‚    â”‚
â”‚  â”‚  #5 ğŸŸ© assistant    2.1s      â”‚                        â”‚    â”‚
â”‚  â”‚  > å‘ç°é—®é¢˜ï¼šlogin.ts:42...    â”‚  Result:               â”‚    â”‚
â”‚  â”‚                                â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚
â”‚  â”‚  #6 ğŸ”§ edit_file   âœ… 1.2s   â”‚  â”‚ 1â”‚import { hash } â”‚  â”‚    â”‚
â”‚  â”‚  > src/auth/login.ts           â”‚  â”‚ 2â”‚from 'bcrypt';  â”‚  â”‚    â”‚
â”‚  â”‚                                â”‚  â”‚...â”‚              â”‚  â”‚    â”‚
â”‚  â”‚  #7 ğŸ”§ bash         âœ… 3.5s  â”‚  â”‚42â”‚if (!password) â”‚  â”‚    â”‚
â”‚  â”‚  > npm test                    â”‚  â”‚43â”‚  return false;â”‚  â”‚    â”‚
â”‚  â”‚                                â”‚  â”‚...â”‚              â”‚  â”‚    â”‚
â”‚  â”‚  #8 ğŸ”§ bash         âŒ 2.1s  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
â”‚  â”‚  > npm test -- --coverage      â”‚                        â”‚    â”‚
â”‚  â”‚  âš¡ self-repair attempt        â”‚                        â”‚    â”‚
â”‚  â”‚                                â”‚                        â”‚    â”‚
â”‚  â”‚  #9 ğŸ”§ edit_file   âœ… 0.9s   â”‚                        â”‚    â”‚
â”‚  â”‚  > src/auth/login.ts (retry)   â”‚                        â”‚    â”‚
â”‚  â”‚                                â”‚                        â”‚    â”‚
â”‚  â”‚  #10 ğŸ”§ bash        âœ… 4.2s   â”‚                        â”‚    â”‚
â”‚  â”‚  > npm test                    â”‚                        â”‚    â”‚
â”‚  â”‚                                â”‚                        â”‚    â”‚
â”‚  â”‚  #11 ğŸŸ© assistant   1.5s      â”‚                        â”‚    â”‚
â”‚  â”‚  > ä¿®å¤å®Œæˆï¼Œæ‰€æœ‰æµ‹è¯•é€šè¿‡       â”‚                        â”‚    â”‚
â”‚  â”‚                                â”‚                        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€ åº•éƒ¨ç»Ÿè®¡æ  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Tools: read_fileÃ—2 edit_fileÃ—2 bashÃ—3                    â”‚  â”‚
â”‚  â”‚ Success: 6/7 (85.7%)  Self-repair: 1/1 (100%)           â”‚  â”‚
â”‚  â”‚ Errors: [tool_misuseÃ—0] [wrong_fileÃ—0] [infinite_retryÃ—0]â”‚  â”‚
â”‚  â”‚ Token flow: â–â–‚â–ƒâ–…â–‚â–ƒâ–†â–‚â–ƒâ–…â–‚â– (per turn)                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**äº¤äº’ç»†èŠ‚**ï¼š

| äº¤äº’ | è¯´æ˜ | å‚è€ƒæ¥æº |
|------|------|---------|
| ç‚¹å‡» Turn | å³ä¾§é¢æ¿æ˜¾ç¤ºè¯¦æƒ…ï¼ˆArgs/Result/Duration/Tokensï¼‰ | Inspect AI |
| é”™è¯¯é«˜äº® | å¤±è´¥çš„ Turn å·¦ä¾§çº¢è‰²è¾¹æ¡† + âŒ å›¾æ ‡ | SpreadsheetBench |
| è‡ªæˆ‘ä¿®å¤æ ‡è®° | é”™è¯¯åçš„ä¿®å¤ Turn æ˜¾ç¤º âš¡ é—ªç”µå›¾æ ‡ + è™šçº¿è¿æ¥ | æ–°è®¾è®¡ |
| Cmd+F æœç´¢ | å…¨æ–‡æœç´¢æ‰€æœ‰ Turn çš„å†…å®¹ | Langfuse Log View |
| Diff å†…è” | edit_file çš„ Turn å†…è”æ˜¾ç¤º before/after diff | å¤ç”¨ DiffPanel |
| Token ç«èŠ±çº¿ | åº•éƒ¨ç»Ÿè®¡æ æ˜¾ç¤ºæ¯è½® Token æ¶ˆè€—çš„ sparkline | LangSmith |
| æŠ˜å æ€è€ƒè¿‡ç¨‹ | thinking ç±»å‹çš„ Turn é»˜è®¤æŠ˜å  | ç°æœ‰ AssistantMessage æ¨¡å¼ |

**ç»„ä»¶æ‹†åˆ†**ï¼š

| ç»„ä»¶ | èŒè´£ |
|------|------|
| `TranscriptViewer.tsx` | é¡µé¢å®¹å™¨ + è§†å›¾åˆ‡æ¢ |
| `TurnList.tsx` | å·¦ä¾§ Turn åˆ—è¡¨ï¼ˆLog View æ¨¡å¼ï¼‰ |
| `TurnItem.tsx` | å•ä¸ª Turn çš„æ‘˜è¦è¡Œï¼ˆå›¾æ ‡+åç§°+çŠ¶æ€+è€—æ—¶ï¼‰ |
| `TurnDetail.tsx` | å³ä¾§è¯¦æƒ…é¢æ¿ï¼ˆArgs/Result/Durationï¼‰ |
| `TurnTreeView.tsx` | Tree View æ¨¡å¼ï¼ˆåµŒå¥—æŠ˜å ï¼‰ |
| `TranscriptStats.tsx` | åº•éƒ¨ç»Ÿè®¡æ ï¼ˆå·¥å…·ç»Ÿè®¡+é”™è¯¯åˆ†ç±»+Token sparklineï¼‰ |
| `TranscriptSearch.tsx` | æœç´¢æ  + é«˜äº®åŒ¹é… |

---

#### é¡µé¢ 4ï¼šVersion Comparisonï¼ˆç‰ˆæœ¬å¯¹æ¯”ï¼‰

> å‚è€ƒ Braintrust çš„ Diff Mode + promptfoo çš„ Scatter Plotã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Eval Home                                                     â”‚
â”‚  Version Comparison                                              â”‚
â”‚  Baseline: [v0.16.21-001 â–¼]  vs  Current: [v0.16.22-001 â–¼]    â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€ Summary â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚           â”‚ Baseline (v0.16.21) â”‚ Current (v0.16.22) â”‚ Î”  â”‚   â”‚
â”‚  â”‚ Pass Rate â”‚        64%         â”‚        72%         â”‚ +8% â”‚   â”‚
â”‚  â”‚ Avg Score â”‚        68.2        â”‚        74.5        â”‚ +6.3â”‚   â”‚
â”‚  â”‚ Avg Cost  â”‚        Â¥0.19       â”‚        Â¥0.14       â”‚ -26%â”‚   â”‚
â”‚  â”‚ Avg Turns â”‚        18.5        â”‚        14.2        â”‚ -23%â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€ ç­›é€‰ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Show: [All] [Regressions âš ï¸3] [Improvements âœ…5] [Same]  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€ Side-by-side Diff è¡¨ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Task              â”‚ v0.16.21      â”‚ v0.16.22      â”‚ Î”    â”‚   â”‚
â”‚  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”‚   â”‚
â”‚  â”‚ fix-auth-bypass   â”‚ âœ… 72 (88.9%) â”‚ âœ… 85 (100%)  â”‚ ğŸŸ¢+13â”‚   â”‚
â”‚  â”‚ add-login-form    â”‚ âœ… 88 (100%)  â”‚ âœ… 90 (100%)  â”‚ ğŸŸ¢ +2â”‚   â”‚
â”‚  â”‚ refactor-auth     â”‚ âœ… 65 (66.7%) â”‚ âŒ 35 (0%)    â”‚ ğŸ”´-30â”‚   â”‚  â† å›å½’ï¼
â”‚  â”‚ reject-rm-rf      â”‚ âŒ 30 (0%)    â”‚ âœ… 80 (100%)  â”‚ ğŸŸ¢+50â”‚   â”‚
â”‚  â”‚ explain-closure   â”‚ âœ… 82 (100%)  â”‚ âœ… 85 (100%)  â”‚ ğŸŸ¢ +3â”‚   â”‚
â”‚  â”‚ multi-file-edit   â”‚ âŒ 40 (33.3%) â”‚ âŒ 45 (33.3%) â”‚ âšª +5â”‚   â”‚
â”‚  â”‚ ...               â”‚               â”‚               â”‚      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€ æ•£ç‚¹å›¾ï¼ˆHead-to-Headï¼‰â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚         v0.16.22 Score                                    â”‚   â”‚
â”‚  â”‚  100 â”‚          â—‹ â—‹                                       â”‚   â”‚
â”‚  â”‚   80 â”‚     â—‹  â—       â—‹     â† å¯¹è§’çº¿ä¸Šæ–¹ = v0.16.22 æ›´ä¼˜ â”‚   â”‚
â”‚  â”‚   60 â”‚  â—‹        â•±                                        â”‚   â”‚
â”‚  â”‚   40 â”‚      â—  â•±    â† çº¢ç‚¹ = å›å½’                         â”‚   â”‚
â”‚  â”‚   20 â”‚     â•±                                              â”‚   â”‚
â”‚  â”‚    0 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ v0.16.21 Score                    â”‚   â”‚
â”‚  â”‚       0   20   40   60   80  100                          â”‚   â”‚
â”‚  â”‚  â— å›å½’ (3)  â—‹ è¿›æ­¥ (5)  â—‹ æŒå¹³ (42)                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  [ğŸ“¥ å¯¼å‡ºå¯¹æ¯”æŠ¥å‘Š]                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç»„ä»¶æ‹†åˆ†**ï¼š

| ç»„ä»¶ | èŒè´£ |
|------|------|
| `VersionComparison.tsx` | é¡µé¢å®¹å™¨ + Run é€‰æ‹©å™¨ |
| `ComparisonSummary.tsx` | èšåˆæŒ‡æ ‡å¯¹æ¯”å¡ |
| `ComparisonFilter.tsx` | å›å½’/è¿›æ­¥/æŒå¹³ç­›é€‰ |
| `DiffTable.tsx` | Side-by-side å¯¹æ¯”è¡¨ï¼ˆé¢œè‰²ç¼–ç ï¼‰ |
| `ScatterPlot.tsx` | Head-to-Head æ•£ç‚¹å›¾ï¼ˆRechartsï¼‰ |

---

#### é¡µé¢ 5ï¼šModel Comparisonï¼ˆæ¨¡å‹å¯¹æ¯”ï¼‰â€” P2

> å‚è€ƒ promptfoo çš„çŸ©é˜µæµ‹è¯• + HELM çš„æ’è¡Œæ¦œã€‚åŒä¸€ Suite åœ¨ä¸åŒæ¨¡å‹ä¸Šçš„è¡¨ç°çŸ©é˜µã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Model Comparison                                                â”‚
â”‚  Suite: coding    Tasks: 20                                      â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Task              â”‚ Kimi K2.5  â”‚ DeepSeek V3â”‚ GLM-4.7    â”‚   â”‚
â”‚  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚   â”‚
â”‚  â”‚ fix-auth-bypass   â”‚ âœ… 85      â”‚ âœ… 78      â”‚ âŒ 42      â”‚   â”‚
â”‚  â”‚ add-login-form    â”‚ âœ… 90      â”‚ âœ… 92 ğŸ†   â”‚ âœ… 75      â”‚   â”‚
â”‚  â”‚ refactor-auth     â”‚ âŒ 35      â”‚ âœ… 68 ğŸ†   â”‚ âŒ 28      â”‚   â”‚
â”‚  â”‚ ...               â”‚            â”‚            â”‚            â”‚   â”‚
â”‚  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚   â”‚
â”‚  â”‚ Overall           â”‚ 72% / Â¥8.5 â”‚ 70% / Â¥5.2 â”‚ 55% / Â¥0  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  ğŸ† = è¯¥ Task æœ€é«˜åˆ†       é¢œè‰²ç¼–ç åŒ Version Comparison        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 9.5 å¯¼èˆªä¸è·¯ç”±è®¾è®¡

```
è¯„æµ‹ç³»ç»Ÿå…¥å£
  â”œâ”€ /eval                          â†’ EvalHome
  â”œâ”€ /eval/run/:runId               â†’ RunOverview
  â”œâ”€ /eval/run/:runId/task/:taskId  â†’ TaskDetail
  â”œâ”€ /eval/transcript/:trialId      â†’ TranscriptViewer
  â”œâ”€ /eval/compare                  â†’ VersionComparison
  â””â”€ /eval/models                   â†’ ModelComparison (P2)
```

Electron ç¯å¢ƒä¸‹ä½¿ç”¨ **Hash Router**ï¼Œæ‰€æœ‰çŠ¶æ€ç¼–ç åˆ° URLï¼ˆå‚è€ƒ promptfooï¼‰ï¼š

```
#/eval/run/v0.16.22-001?status=fail&category=coding&sort=score:desc
```

### 9.6 çŠ¶æ€ç®¡ç†

```typescript
// src/renderer/stores/evalStore.ts
interface EvalStore {
  // é¡µé¢çŠ¶æ€
  currentView: 'home' | 'run' | 'task' | 'transcript' | 'compare' | 'models';

  // Run åˆ—è¡¨
  runs: EvalRunSummary[];
  selectedRunId: string | null;

  // Task ç­›é€‰
  filters: {
    status: 'all' | 'pass' | 'fail' | 'error';
    category: string | null;
    difficulty: string | null;
    search: string;
    sort: { field: string; direction: 'asc' | 'desc' };
  };

  // Version Comparison
  baselineRunId: string | null;
  currentRunId: string | null;

  // Transcript
  selectedTrialId: string | null;
  transcriptView: 'log' | 'tree';

  // æ•°æ®åŠ è½½
  isLoading: boolean;

  // Actions
  loadRuns: () => Promise<void>;
  loadRunDetail: (runId: string) => Promise<void>;
  loadTaskDetail: (runId: string, taskId: string) => Promise<void>;
  loadTranscript: (trialId: string) => Promise<void>;
  setFilters: (filters: Partial<EvalStore['filters']>) => void;
}
```

### 9.7 IPC é€šé“ï¼ˆæ–°å¢ï¼‰

| é€šé“ | æ–¹å‘ | ç”¨é€” |
|------|------|------|
| `eval:list-runs` | renderer â†’ main | è·å– Run åˆ—è¡¨ï¼ˆåˆ†é¡µ + ç­›é€‰ï¼‰ |
| `eval:get-run` | renderer â†’ main | è·å–å•ä¸ª Run è¯¦æƒ…ï¼ˆå« Task ç»“æœï¼‰ |
| `eval:get-task` | renderer â†’ main | è·å–å•ä¸ª Task è¯¦æƒ…ï¼ˆå« Trial + Grader ç»“æœï¼‰ |
| `eval:get-transcript` | renderer â†’ main | è·å– Transcript å®Œæ•´æ•°æ® |
| `eval:compare-runs` | renderer â†’ main | è·å–ä¸¤ä¸ª Run çš„å¯¹æ¯”æ•°æ® |
| `eval:start-run` | renderer â†’ main | ä» UI è§¦å‘ Eval è¿è¡Œ |
| `eval:run-progress` | main â†’ renderer | è¿è¡Œä¸­å®æ—¶æ¨é€è¿›åº¦ï¼ˆSSEï¼‰ |
| `eval:export` | renderer â†’ main | å¯¼å‡ºæŠ¥å‘Šï¼ˆJSON/Markdownï¼‰ |

### 9.8 ä¸ç°æœ‰å‰ç«¯çš„æ•´åˆ

| ç°æœ‰ç»„ä»¶ | å¤ç”¨æ–¹å¼ |
|---------|---------|
| `EvaluationPanelV2.tsx` | ä¿ç•™ï¼Œä½œä¸º"ä¼šè¯è¯„æµ‹"å…¥å£ï¼›æ–°å¢"Benchmark è¯„æµ‹"è·³è½¬é“¾æ¥ |
| `RadarChart.tsx` | ç›´æ¥å¤ç”¨ï¼Œä¼ å…¥ Benchmark ç»´åº¦æ•°æ® |
| `MetricCard.tsx` | GraderCard å‚è€ƒå…¶å¯å±•å¼€/æŠ˜å è®¾è®¡æ¨¡å¼ |
| `StatCard`ï¼ˆEvalPanelV2 å†…ï¼‰ | æå–ä¸ºç‹¬ç«‹ç»„ä»¶ï¼ŒRun Overview å¤ç”¨ |
| `DiffPanel/` | Transcript Viewer ä¸­ edit_file Turn çš„ Diff å±•ç¤º |
| `StatusBar` | æ–°å¢ Eval è¿è¡Œä¸­çš„è¿›åº¦æŒ‡ç¤ºï¼ˆç±»ä¼¼ streaming è„‰å†²åŠ¨ç”»ï¼‰ |

### 9.9 å“åº”å¼ä¸æ€§èƒ½

| åœºæ™¯ | ç­–ç•¥ |
|------|------|
| **å¤§é‡ Taskï¼ˆ>100ï¼‰** | TaskResultTable è™šæ‹Ÿæ»šåŠ¨ï¼ˆ@tanstack/react-virtualï¼‰ |
| **é•¿ Transcriptï¼ˆ>50 turnsï¼‰** | TurnList è™šæ‹Ÿæ»šåŠ¨ + æ‡’åŠ è½½è¯¦æƒ… |
| **å®æ—¶è¿è¡Œè¿›åº¦** | SSE æ¨é€ + å±€éƒ¨æ›´æ–°ï¼ˆåªæ›´æ–°å˜åŒ–çš„ Task è¡Œï¼‰ |
| **å›¾è¡¨æ¸²æŸ“** | Recharts æ‡’åŠ è½½ï¼ˆåœ¨åˆ†å¸ƒå›¾åŒºåŸŸè¿›å…¥è§†å£æ—¶æ¸²æŸ“ï¼‰ |
| **é¦–æ¬¡åŠ è½½** | Run åˆ—è¡¨åªåŠ è½½æ‘˜è¦æ•°æ®ï¼Œè¯¦æƒ…æŒ‰éœ€è·å– |

### 9.10 ç»„ä»¶æ–‡ä»¶ç»“æ„

```
src/renderer/components/features/eval/
â”œâ”€â”€ EvalHome.tsx                    # P0 - è¯„æµ‹å…¥å£
â”œâ”€â”€ RunOverview.tsx                 # P0 - è¿è¡Œæ€»è§ˆ
â”œâ”€â”€ TaskDetail.tsx                  # P0 - ä»»åŠ¡è¯¦æƒ…
â”œâ”€â”€ TranscriptViewer.tsx            # P0 - æ‰§è¡Œè¿½è¸ª
â”œâ”€â”€ VersionComparison.tsx           # P1 - ç‰ˆæœ¬å¯¹æ¯”
â”œâ”€â”€ ModelComparison.tsx             # P2 - æ¨¡å‹å¯¹æ¯”
â”œâ”€â”€ shared/
â”‚   â”œâ”€â”€ StatCardRow.tsx             # ç»Ÿè®¡å¡ç‰‡è¡Œ
â”‚   â”œâ”€â”€ TaskFilterBar.tsx           # ç­›é€‰å·¥å…·æ 
â”‚   â”œâ”€â”€ TaskResultTable.tsx         # Task ç»“æœçŸ©é˜µ
â”‚   â”œâ”€â”€ TrialResultTable.tsx        # Trial ç»“æœè¡¨
â”‚   â”œâ”€â”€ GraderCard.tsx              # Grader è¯„åˆ†å¡
â”‚   â”œâ”€â”€ GraderCardList.tsx          # Grader åˆ—è¡¨
â”‚   â”œâ”€â”€ VersionTimeline.tsx         # ç‰ˆæœ¬å†å²æ—¶é—´çº¿
â”‚   â”œâ”€â”€ PromptPreview.tsx           # Prompt å¯æŠ˜å é¢„è§ˆ
â”‚   â”œâ”€â”€ TurnList.tsx                # Turn åˆ—è¡¨ï¼ˆLog Viewï¼‰
â”‚   â”œâ”€â”€ TurnItem.tsx                # å•ä¸ª Turn è¡Œ
â”‚   â”œâ”€â”€ TurnDetail.tsx              # Turn è¯¦æƒ…é¢æ¿
â”‚   â”œâ”€â”€ TurnTreeView.tsx            # Turn æ ‘å½¢è§†å›¾
â”‚   â”œâ”€â”€ TranscriptStats.tsx         # Transcript åº•éƒ¨ç»Ÿè®¡
â”‚   â”œâ”€â”€ TranscriptSearch.tsx        # å…¨æ–‡æœç´¢
â”‚   â”œâ”€â”€ ComparisonSummary.tsx       # å¯¹æ¯”æ‘˜è¦å¡
â”‚   â”œâ”€â”€ DiffTable.tsx               # Side-by-side å¯¹æ¯”è¡¨
â”‚   â””â”€â”€ ScatterPlot.tsx             # Head-to-Head æ•£ç‚¹å›¾
â”œâ”€â”€ charts/
â”‚   â”œâ”€â”€ TrendChart.tsx              # è¶‹åŠ¿æŠ˜çº¿å›¾
â”‚   â”œâ”€â”€ CategoryBar.tsx             # Category æŸ±çŠ¶å›¾
â”‚   â”œâ”€â”€ DifficultyBar.tsx           # Difficulty æŸ±çŠ¶å›¾
â”‚   â”œâ”€â”€ ScoreHistogram.tsx          # å¾—åˆ†åˆ†å¸ƒç›´æ–¹å›¾
â”‚   â””â”€â”€ TokenSparkline.tsx          # Token æ¶ˆè€—ç«èŠ±çº¿
â””â”€â”€ index.tsx                        # è·¯ç”± + å¯¼å‡º

src/renderer/stores/
â””â”€â”€ evalStore.ts                    # Eval çŠ¶æ€ç®¡ç†

src/main/ipc/
â””â”€â”€ eval.ipc.ts                     # Eval IPC handlersï¼ˆæ‰©å±•ï¼‰
```

### 9.11 å‰ç«¯å®æ–½ä¼˜å…ˆçº§

| é˜¶æ®µ | é¡µé¢/ç»„ä»¶ | ä¾èµ– |
|------|----------|------|
| **P0**ï¼ˆPhase 3 ç¬¬ 1 å‘¨ï¼‰ | EvalHome + RunOverview + TaskResultTable | åç«¯ Eval Runner + DB |
| **P0**ï¼ˆPhase 3 ç¬¬ 1 å‘¨ï¼‰ | TaskDetail + GraderCardList + TrialResultTable | åç«¯ Grader Engine |
| **P0**ï¼ˆPhase 3 ç¬¬ 2 å‘¨ï¼‰ | TranscriptViewer (Log View) + TurnList/TurnDetail | åç«¯ Transcript å­˜å‚¨ |
| **P1**ï¼ˆPhase 3 ç¬¬ 2 å‘¨ï¼‰ | VersionComparison + DiffTable + ScatterPlot | åç«¯ compare-runs API |
| **P1**ï¼ˆPhase 4ï¼‰ | TrendChart + CategoryBar + ScoreHistogram | å†å²æ•°æ®ç§¯ç´¯ |
| **P2**ï¼ˆPhase 4ï¼‰ | ModelComparison + Tree View + äººå·¥æ ‡æ³¨ | å¤šæ¨¡å‹è¿è¡Œæ•°æ® |

---

## åã€èƒ½åŠ› Eval vs å›å½’ Eval ç”Ÿå‘½å‘¨æœŸ

> "èƒ½åŠ› eval é€šè¿‡ç‡è¾¾æ ‡åæ¯•ä¸šä¸ºå›å½’ eval" â€” Anthropic

```
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚   åˆ›å»ºæ–° Task    â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚  èƒ½åŠ› Eval é˜¶æ®µ   â”‚  â† é€šè¿‡ç‡ä½ï¼ŒæŒç»­ä¼˜åŒ– Agent
                     â”‚  (pass rate < 80%)â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚ é€šè¿‡ç‡ç¨³å®š â‰¥ 80%
                              â–¼
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚  æ¯•ä¸šä¸ºå›å½’ Eval  â”‚  â† é€šè¿‡ç‡åº”æ¥è¿‘ 100%
                     â”‚  (pass rate ~100%)â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚ é€šè¿‡ç‡ä¸‹é™
                              â–¼
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚  å›å½’è­¦æŠ¥ï¼       â”‚  â† ç‰ˆæœ¬å‡çº§å¯¼è‡´èƒ½åŠ›é€€åŒ–
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

Task å…ƒæ•°æ®ä¸­æ ‡è®°ï¼š

```yaml
lifecycle:
  stage: capability          # capability | regression
  graduated_at: null         # æ¯•ä¸šæ—¶é—´
  graduation_threshold: 0.8  # æ¯•ä¸šé˜ˆå€¼ï¼ˆpass@3 â‰¥ 80%ï¼‰
```

---

## åä¸€ã€CLI æ¥å£

### 11.1 å‘½ä»¤è®¾è®¡

```bash
# è¿è¡Œå®Œæ•´ Eval Suite
code-agent eval run --suite coding --model moonshot/kimi-k2.5

# è¿è¡Œå•ä¸ª Task
code-agent eval run --task fix-auth-bypass --trials 5

# æŒ‰æ¡ä»¶ç­›é€‰
code-agent eval run --category coding --difficulty L3-L5 --tag security

# æŸ¥çœ‹ç»“æœ
code-agent eval report --run latest
code-agent eval report --run v0.16.22-001 --format markdown

# ç‰ˆæœ¬å¯¹æ¯”
code-agent eval diff --run1 v0.16.21-001 --run2 v0.16.22-001

# æŸ¥çœ‹ Transcript
code-agent eval transcript --trial <trial-id>

# åˆ—å‡ºæ‰€æœ‰ Task
code-agent eval list --category coding

# éªŒè¯ Task å®šä¹‰
code-agent eval validate --task fix-auth-bypass

# å›å½’æ£€æµ‹
code-agent eval regression --baseline v0.16.21-latest
```

### 11.2 è¾“å‡ºæ ¼å¼

```
$ code-agent eval run --suite coding --model moonshot/kimi-k2.5

ğŸš€ Running eval suite: coding (20 tasks, 3 trials each)
   Model: moonshot/kimi-k2.5
   Concurrency: 4 tasks

  âœ… fix-auth-bypass       [85/78/42]  pass@3: 88.9%  avg: 68.3
  âœ… add-login-form        [92/88/91]  pass@3: 100%   avg: 90.3
  âŒ refactor-auth-module  [35/28/41]  pass@3: 0%     avg: 34.7
  âœ… fix-null-pointer      [100/95/98] pass@3: 100%   avg: 97.7
  ...

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  Total: 20 | Pass: 14 | Fail: 6 | Rate: 70%
  Avg Score: 72.3 | Total Cost: Â¥3.2 | Duration: 28min
  Report: ~/.code-agent/evals/runs/2026-02-08-001/report.md
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

---

## åäºŒã€æ•°æ®å­˜å‚¨

### 12.1 æ•°æ®åº“ Schemaï¼ˆæ‰©å±•ç°æœ‰ SQLiteï¼‰

```sql
-- Eval è¿è¡Œè®°å½•
CREATE TABLE eval_runs (
  id          TEXT PRIMARY KEY,         -- run ID
  suite       TEXT NOT NULL,            -- eval suite åç§°
  model       TEXT NOT NULL,            -- æ¨¡å‹æ ‡è¯†
  agent_version TEXT NOT NULL,          -- Agent ç‰ˆæœ¬å·
  config      TEXT NOT NULL,            -- è¿è¡Œé…ç½® JSON
  start_time  INTEGER NOT NULL,
  end_time    INTEGER,
  status      TEXT NOT NULL,            -- running | completed | failed
  summary     TEXT                      -- èšåˆæ‘˜è¦ JSON
);

-- Task ç»“æœ
CREATE TABLE eval_tasks (
  id          TEXT PRIMARY KEY,
  run_id      TEXT NOT NULL REFERENCES eval_runs(id),
  task_id     TEXT NOT NULL,            -- YAML ä¸­å®šä¹‰çš„ task ID
  category    TEXT NOT NULL,
  difficulty  TEXT NOT NULL,
  pass_at_k   REAL,                     -- pass@k å€¼
  pass_exp_k  REAL,                     -- pass^k å€¼
  avg_score   REAL,
  status      TEXT NOT NULL             -- pass | fail | error
);

-- Trial ç»“æœ
CREATE TABLE eval_trials (
  id          TEXT PRIMARY KEY,
  task_result_id TEXT NOT NULL REFERENCES eval_tasks(id),
  trial_index INTEGER NOT NULL,
  score       REAL NOT NULL,
  status      TEXT NOT NULL,            -- pass | fail | partial | error
  start_time  INTEGER NOT NULL,
  end_time    INTEGER NOT NULL,
  input_tokens  INTEGER,
  output_tokens INTEGER,
  cost        REAL,
  turns       INTEGER,
  error_count INTEGER,
  transcript  TEXT                       -- å®Œæ•´ Transcript JSON
);

-- Grader ç»“æœ
CREATE TABLE eval_grader_results (
  id          TEXT PRIMARY KEY,
  trial_id    TEXT NOT NULL REFERENCES eval_trials(id),
  grader_type TEXT NOT NULL,
  grader_name TEXT,
  score       REAL NOT NULL,
  weight      REAL NOT NULL,
  status      TEXT NOT NULL,            -- pass | fail | partial | error | skip
  details     TEXT                       -- è¯¦ç»†è¯„åˆ†ç†ç”± JSON
);
```

### 12.2 æ–‡ä»¶ç³»ç»Ÿå­˜å‚¨

```
~/.code-agent/evals/
â”œâ”€â”€ runs/
â”‚   â”œâ”€â”€ 2026-02-08-001/
â”‚   â”‚   â”œâ”€â”€ config.yaml          # è¿è¡Œé…ç½®
â”‚   â”‚   â”œâ”€â”€ report.md            # Markdown æŠ¥å‘Š
â”‚   â”‚   â”œâ”€â”€ report.json          # JSON ç»“æœ
â”‚   â”‚   â””â”€â”€ transcripts/
â”‚   â”‚       â”œâ”€â”€ fix-auth-bypass-trial-1.json
â”‚   â”‚       â”œâ”€â”€ fix-auth-bypass-trial-2.json
â”‚   â”‚       â””â”€â”€ ...
â”‚   â””â”€â”€ ...
â””â”€â”€ cache/
    â””â”€â”€ grader-results/          # Grader ç»“æœç¼“å­˜
```

---

## åä¸‰ã€ä¸ Session Evaluator v2 çš„æ•´åˆ

ç°æœ‰ v2 ç³»ç»Ÿä¸åºŸå¼ƒï¼Œè€Œæ˜¯å¢å¼ºå¹¶å…±äº«åŸºç¡€è®¾æ–½ï¼š

| ç»„ä»¶ | å½“å‰ | å¢å¼ºæ–¹å‘ |
|------|------|---------|
| **SwissCheeseEvaluator** | 4 ä¸ªè¯„å®¡å‘˜å¹¶å‘ | å¢åŠ "è‡ªæˆ‘ä¿®å¤"å’Œ"éªŒè¯è¡Œä¸º"ä¸¤ä¸ª Grader |
| **SessionAnalyticsService** | æ¶ˆæ¯/å·¥å…·/Token ç»Ÿè®¡ | å¢åŠ é”™è¯¯åˆ†ç±»ç»Ÿè®¡ |
| **Transcript** | æ— ç»“æ„åŒ–è®°å½• | ç»Ÿä¸€ Transcript æ ¼å¼ï¼Œä¸ Benchmark å…±äº« |
| **EvaluationPanelV2** | å•æ¬¡ä¼šè¯è¯„åˆ† | å¢åŠ  Transcript Viewer å…¥å£ |
| **Result Store** | evaluations è¡¨ | æ‰©å±•ä¸ºå®Œæ•´çš„ eval æ•°æ®åº“ |

---

## åå››ã€å®æ–½è·¯çº¿å›¾

### Phase 1ï¼šåŸºç¡€è®¾æ–½ï¼ˆ2 å‘¨ï¼‰

| ä»»åŠ¡ | äº¤ä»˜ç‰© |
|------|--------|
| å®šä¹‰ Task YAML Schema | `evals/schema.yaml` |
| å®ç° Task Registryï¼ˆåŠ è½½/éªŒè¯/æŸ¥è¯¢ï¼‰ | `src/main/evaluation/taskRegistry.ts` |
| å®ç° 5 ç§ä»£ç  Grader | `src/main/evaluation/graders/` |
| å®ç° Eval Runnerï¼ˆéš”ç¦»æ‰§è¡Œ + Transcript æ”¶é›†ï¼‰ | `src/main/evaluation/evalRunner.ts` |
| å°†ç°æœ‰ E2E æµ‹è¯•è½¬åŒ–ä¸º 20 ä¸ª Task | `evals/tasks/` |
| CLI `eval run` å‘½ä»¤ | `src/cli/commands/eval.ts` |

### Phase 2ï¼šè¯„åˆ†ä¸æŠ¥å‘Šï¼ˆ1 å‘¨ï¼‰

| ä»»åŠ¡ | äº¤ä»˜ç‰© |
|------|--------|
| å®ç° LLM Graderï¼ˆå¤ç”¨ç°æœ‰ SwissCheeseï¼‰ | `src/main/evaluation/graders/llmGrader.ts` |
| å®ç°è¯„åˆ†èšåˆï¼ˆpass@k / pass^kï¼‰ | `src/main/evaluation/aggregator.ts` |
| å®ç° Markdown æŠ¥å‘Šç”Ÿæˆ | `src/main/evaluation/reporter.ts` |
| æ‰©å±• DB Schema | è¿ç§»è„šæœ¬ |
| è¡¥å…… Task è‡³ 50 ä¸ª | `evals/tasks/` |

### Phase 3ï¼šDashboardï¼ˆ2 å‘¨ï¼‰

| ä»»åŠ¡ | äº¤ä»˜ç‰© |
|------|--------|
| Run Overview è§†å›¾ | React ç»„ä»¶ |
| Task Detail è§†å›¾ | React ç»„ä»¶ |
| Transcript Viewer | React ç»„ä»¶ |
| Version Comparison è§†å›¾ | React ç»„ä»¶ |
| ä¸ç°æœ‰ EvaluationPanelV2 æ•´åˆ | è·¯ç”±é›†æˆ |

### Phase 4ï¼šé«˜çº§åŠŸèƒ½ï¼ˆæŒç»­è¿­ä»£ï¼‰

| ä»»åŠ¡ | äº¤ä»˜ç‰© |
|------|--------|
| å›å½’æ£€æµ‹ + CI é›†æˆ | `code-agent eval regression` |
| æ¨¡å‹æ¨ªå‘å¯¹æ¯” | Dashboard è§†å›¾ |
| èƒ½åŠ› â†’ å›å½’ è‡ªåŠ¨æ¯•ä¸š | ç”Ÿå‘½å‘¨æœŸç®¡ç† |
| ä»ç”Ÿäº§å¤±è´¥è‡ªåŠ¨ç”Ÿæˆ Task | Task æŒ–æ˜å™¨ |
| äººå·¥æ ‡æ³¨ç•Œé¢ï¼ˆæ ¡å‡† LLM Graderï¼‰ | Web ç»„ä»¶ |
| Eval é¥±å’Œåº¦ç›‘æ§ | Dashboard æŒ‡æ ‡ |

---

## åäº”ã€è®¾è®¡å†³ç­–è®°å½•

| å†³ç­– | é€‰æ‹© | ç†ç”± |
|------|------|------|
| Task å®šä¹‰æ ¼å¼ | YAML | ä½é—¨æ§›ã€å¯è¯»æ€§å¼ºï¼Œå‚è€ƒ promptfoo/lm-eval-harness |
| è¿è¡Œæ—¶éš”ç¦» | ä¸´æ—¶ç›®å½•å¤åˆ¶ | æ¯” Docker è½»é‡ï¼Œè¶³å¤Ÿæ»¡è¶³æ–‡ä»¶ç³»ç»Ÿçº§éš”ç¦»éœ€æ±‚ |
| é»˜è®¤ Trial æ¬¡æ•° | k=3 | Anthropic æ¨èï¼Œå¹³è¡¡ç»Ÿè®¡æ„ä¹‰å’Œæˆæœ¬ |
| Grader ä¼˜å…ˆçº§ | ä»£ç  > æ¨¡å‹ > äººå·¥ | Anthropic åŸåˆ™ï¼šèƒ½ç”¨ä»£ç å°±ç”¨ä»£ç  |
| ä¸ v2 çš„å…³ç³» | å¢å¼ºè€Œéæ›¿æ¢ | ä¿æŠ¤å·²æœ‰æŠ•èµ„ï¼Œæ¸è¿›å¼æ¼”è¿› |
| Dashboard æŠ€æœ¯æ ˆ | Electron å†…åµŒï¼ˆReactï¼‰ | å¤ç”¨ç°æœ‰å‰ç«¯åŸºç¡€è®¾æ–½ |
| æ•°æ®å­˜å‚¨ | SQLiteï¼ˆæ‰©å±•ç°æœ‰ï¼‰ | ç»Ÿä¸€æ•°æ®å±‚ï¼Œé¿å…å¼•å…¥æ–°ä¾èµ– |
| è¯„åˆ†ç»„åˆé»˜è®¤ç­–ç•¥ | weighted | æœ€çµæ´»ï¼Œæ”¯æŒéƒ¨åˆ†å¾—åˆ† |

---

## é™„å½• Aï¼šå‚è€ƒæ–‡æ¡£ç´¢å¼•

| æ–‡æ¡£ | ä½ç½® | å†…å®¹ |
|------|------|------|
| Anthropic Evals æŒ‡å— | `docs/research/evals-for-ai-agents.md` | Agent è¯„æµ‹æ–¹æ³•è®º |
| SpreadsheetBench åˆ†æ | `docs/research/spreadsheet-bench-analysis.md` | è¯„æµ‹ç»´åº¦å’Œå¯è§†åŒ–è®¾è®¡ |
| LLM è¯„ä¼°æ¡†æ¶å¯¹æ¯” | `docs/research/llm-eval-frameworks-comparison.md` | 6 å¤§æ¡†æ¶å…¨æ™¯å¯¹æ¯” |
| è¯„æµ‹ Dashboard UI è°ƒç ” | `docs/research/eval-dashboard-ui-survey.md` | 9 ä¸ªæ¡†æ¶çš„å‰ç«¯è®¾è®¡è°ƒç ” |
| ç°æœ‰è¯„æµ‹ç³»ç»Ÿæ¶æ„ | `docs/guides/evaluation-system.md` | v2 ç³»ç»ŸæŠ€æœ¯æ–‡æ¡£ |

## é™„å½• Bï¼šEval Checklist

> æ¥è‡ª Anthropic Evals æŒ‡å—ï¼Œä½œä¸ºæ—¥å¸¸å®æ“æ¸…å•ï¼š

- [ ] æ”¶é›† 20-50 ä¸ªçœŸå®å¤±è´¥æ¡ˆä¾‹ä½œä¸ºåˆå§‹ Task
- [ ] æ¯ä¸ª Task å†™æ¸…æ— æ­§ä¹‰çš„æè¿° + å‚è€ƒè§£
- [ ] æ­£åæ¡ˆä¾‹å¹³è¡¡ï¼ˆåº”è¯¥åš vs ä¸åº”è¯¥åšï¼‰
- [ ] é€‰æ‹©åˆé€‚çš„ Grader ç»„åˆï¼ˆä»£ç ä¼˜å…ˆï¼Œæ¨¡å‹è¡¥å……ï¼‰
- [ ] è¯„åˆ¤äº§å‡ºè€Œéè·¯å¾„ï¼Œæ”¯æŒéƒ¨åˆ†å¾—åˆ†
- [ ] æ¯æ¬¡ Trial å¹²å‡€éš”ç¦»
- [ ] LLM Grader ä¸äººç±»è¯„åˆ†æ ¡å‡†
- [ ] å®šæœŸè¯» Transcript éªŒè¯ Eval è´¨é‡
- [ ] ç›‘æ§ Eval é¥±å’Œï¼ŒæŒç»­è¡¥å……æ›´éš¾çš„ Task
- [ ] å°†æˆç†Ÿçš„èƒ½åŠ› Eval æ¯•ä¸šä¸ºå›å½’ Eval
