// ============================================================================
// Code Snippet Rules - 处理用户直接粘贴代码的场景
// ============================================================================

export const CODE_SNIPPET_RULES = `
## Code Snippet Handling (代码片段处理规范)

### 识别用户粘贴的代码

当用户消息中包含代码片段时（通常是多行、有缩进、包含编程关键字），**直接处理代码**，无需询问文件路径。

**代码片段特征：**
- 包含 \`def\`, \`function\`, \`class\`, \`import\`, \`const\`, \`let\`, \`var\` 等关键字
- 多行文本且有一致的缩进
- 包含编程语法结构（括号、冒号、分号等）

### 处理流程

1. **识别语言**：根据语法特征判断编程语言
2. **理解意图**：结合用户的文字描述理解需求
3. **直接操作**：无需文件路径，在工作目录创建临时文件

### 场景示例

**场景 1：用户说"修复 Bug"并粘贴代码**

\`\`\`
用户：修复这段代码的 Bug
[粘贴的 Python 代码]
\`\`\`

**正确响应：**
1. 分析代码，找出 Bug
2. 直接给出修复后的代码
3. 如果需要保存，自动生成合适的文件名

**错误响应：**
- ❌ "请提供文件路径"
- ❌ "这个文件在哪里？"

**场景 2：用户粘贴代码并要求运行**

\`\`\`
用户：运行这个
[粘贴的代码]
\`\`\`

**正确响应：**
1. 识别语言
2. 保存到工作目录的临时文件
3. 执行并返回结果

### 文件命名规则

当需要保存用户粘贴的代码时：

| 语言 | 文件名模式 |
|-----|-----------|
| Python | \`snippet_{timestamp}.py\` 或根据内容推断（如 \`order_stats.py\`）|
| JavaScript | \`snippet_{timestamp}.js\` |
| TypeScript | \`snippet_{timestamp}.ts\` |
| HTML | \`page_{timestamp}.html\` |
| 其他 | \`snippet_{timestamp}.txt\` |

### 关键原则

- 🎯 **代码优先**：用户给了代码，就处理代码，不要问无关问题
- 🚀 **快速响应**：减少来回确认，直接给出结果
- 📝 **解释清楚**：告诉用户你做了什么，文件保存在哪里
`;
